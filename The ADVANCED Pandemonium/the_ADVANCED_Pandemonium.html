<!--Sheet Section-->
<div class="charsheet">
    <input type="hidden" class="antagonist_flag" name="attr_antagonist_flag" value="0" />
    <div class="player_sheet" style="margin-top: -20px;">
        <div class="playercharsheet" autocomplete="off">
            <div class="left_side" style="margin-top:3px">
                <div style="display:grid; grid-template-columns:287px 142px; column-gap:3px">
                    <div style="display:flex; flex-direction:column">
                        <img class="logoImage" src="https://i.imgur.com/bZsdIU4.png" alt="The Advanced">
                        <div class="nameAndLegacy__row">
                            <div name="name" class="nameAndLegacy__cell">
                                <h3>Name:</h3>
                                <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterName" name="attr_character_name" autocomplete="nope">
                            </div>
                            <div name="manifestation" class="nameAndLegacy__cell">
                                <h3>Manifestation:</h3>
                                <select class="hiddenSheet manifestation" name="attr_legacy">
                                    <option value="None" selected>Select One</option>
                                    <option value="Luminous">Luminous (Light Particles)</option>
                                    <option value="Elementalist">Elementalist (Elements)</option>
                                    <option value="EnhancerP">Enhancer (Purist)</option>
                                    <option value="EnhancerS">Enhancer (Spectre)</option>
                                    <option value="EnhancerT">Enhancer (Technologist)</option>
                                    <option value="ExemplarG">Exemplar (Genesis)</option>
                                    <option value="ExemplarD">Exemplar (Dominus)</option>
                                    <option value="Gaia">Gaia (Nature)</option>
                                </select>
                                <input type="hidden" class="bionic_check" name="attr_legacy" value="None">
                                <a class="button anchorButton stanceButton" href="#manifestationEffect">Effects</a>
                            </div>
                            <div name="characteristics" class="nameAndLegacy__cell">
                                <a class="button anchorButton stanceButton" href="#characteristics" style="width:125px">Characteristics</a>
                                <a class="button anchorButton stanceButton" href="#leveling" style="width:125px">Leveling Bonuses</a>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div name="combatBlock" class="combatShell" style="margin-top: -2px !important;">
                            <div class="combatFlex combatTitle">
                                <h1 class="header" style="width: 210px;">Combat Block</h1>
                            </div>
                            <div class="combatGrid flexJustify" style="border-bottom:1px solid black;height:19px !important">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px;">Manoeuvre:</h4>
                                <div style="display:flex;align-items: center;">
                                    <input type="number" style="height:15px;width:18px;margin-bottom: 2px;" class="hiddenSheet centered" name="attr_manoeuvre_value" value="0">
                                    <button type="action" name="act_manoeuvreroll" class="tokenaction manButton" style="display:none" value="?{test|0}">k</button>
                                    <button type="roll" name="attr_manoeuvre" class="tokenaction manButton" value="%{selected|manoeuvreroll} ?{test|0}" style="margin: 0px; padding: 0px;"></button>
                                </div>
                                <div name="splitter"></div>
                            </div>
                            <div class="combatGrid flexJustify" style="border-bottom:1px solid black;height:18px !important">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px;margin-right: -5px;">Detection Range:</h4>
                                <input type="number" style="height:15px;width:18px;margin-bottom: 2px;" class="hiddenSheet centered" name="attr_detection_range" value="0">
                                <div name="splitter"></div>
                            </div>
                            <div class="combatGridReactive flexJustify" style="border-bottom:1px solid black;height:18px !important">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px;">Aura Size:</h4>
                                <input type="number" style="height:15px;width:18px;margin-bottom: 2px;" class="hiddenSheet centered" name="attr_aura_size" value="0">
                                <div name="splitter"></div>
                            </div>
                            <div class="combatGridReactive flexJustify" style="border-bottom:1px solid black;height:18px !important">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px;">Pursuit Bonus:</h4>
                                <input type="number" style="height:15px;width:18px;margin-bottom: 2px;" name="attr_pursuit_bonus" class="hiddenSheet centered" value="0">
                                <div name="splitter"></div>
                            </div>
                            <div class="combatGrid flexJustify" style="border-bottom:1px solid black;height:19px !important">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px;">Fortitude:</h4>
                                <div style="display:flex;align-items: center;">
                                    <input type="number" style="height:15px;width:18px;margin-bottom: 2px;" class="hiddenSheet centered" name="attr_fortitude" value="0">
                                    <button type="action" name="act_fortitude" class="manButton">k</button>
                                </div>
                                <div name="splitter"></div>
                            </div>
                            <div class="combatGrid flexJustify" style="height: 19px;">
                                <div name="splitter"></div>
                                <h4 style="margin-left: 4px; margin-top: -2px; line-height: 13px; font-size: 9pt; width: 120px !important;">Blank & Chance Rolls:</h4>
                                <div style="display:flex;align-items: center;">
                                    <button type="action" name="act_blank" class="manButton" style="margin-left: 18px !important;">k</button>
                                </div>
                                <div name="splitter"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 185px 100px 145px;margin-top: -15px;">
                    <div name="stamina" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="shielding__row">
                            <div class="centertitle stamina1" style="line-height: 24px;border-radius: 10px 0px 0px 0px;">Hit Points</div>
                            <div class="centertitle stamina1" style="line-height: 24px;grid-area: aa;border-radius: 0px 10px 0px 0px;">Wound</div>

                            <input type="number" name="attr__hit_points_one" value="0" class="currentStamina hp1 centered" style="padding: 0px;">
                            <h1 class="hp3">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="hp2 centered" readonly="true" style="padding: 0px;" />
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_wound_one" value="1" title="WoundOne" style="width:18px !important; height:18px !important;align-self: center;grid-area: g;margin-left: 9px;">

                            <input type="number" name="attr__hit_points_two" value="0" class="currentStamina hp1 centered" style="padding: 0px;grid-area: bb;">
                            <h1 class="hp3" style="grid-area:cc">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="hp2 centered" readonly="true" style="padding: 0px;grid-area: dd;" />
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_wound_two" value="1" title="WoundTwo" style="width:18px !important; height:18px !important;align-self: center;grid-area: gg;margin-left: 9px;">

                            <input type="number" name="attr__hit_points_three" value="0" class="currentStamina hp1 centered" style="padding: 0px;grid-area: bbb;">
                            <h1 class="hp3" style="grid-area:ccc">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="hp2 centered" readonly="true" style="padding: 0px;grid-area: ddd;" />
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_wound_three" value="1" title="WoundThree" style="width:18px !important; height:18px !important;align-self: center;grid-area: ggg;margin-left: 9px;">

                            <input type="number" name="attr__hit_points_four" value="0" class="currentStamina hp1 centered" style="padding: 0px;grid-area: bbbb;">
                            <h1 class="hp3" style="grid-area:cccc">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="hp2 centered" readonly="true" style="padding: 0px;grid-area: dddd;" />
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_wound_four" value="1" title="WoundFour" style="width:18px !important; height:18px !important;align-self: center;grid-area: gggg;margin-left: 9px;">

                            <input type="number" name="attr__hit_points_five" value="0" class="currentStamina hp1 centered" style="padding: 0px;grid-area: bbbbb;">
                            <h1 class="hp3" style="grid-area:ccccc">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="hp2 centered" readonly="true" style="padding: 0px;grid-area: ddddd;" />
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_wound_five" value="1" title="WoundFive" style="width:18px !important; height:18px !important;align-self: center;grid-area: ggggg;margin-left: 9px;">

                            <div class="centertitle stamina4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;font-size:10pt">Base</h2>
                            </div>
                            <div class="stamina5" style="border-bottom-right-radius: 0px;">
                                <input type="number" name="attr_hit_points_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="margin-left: -4px;width:25px !important">
                                <input type="hidden" name="attr__hit_points_max">
                            </div>
                            <div class="centertitle stamina4" style="grid-area: ee;border-bottom-right-radius: 0px;;border-bottom-left-radius: 0px;">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;font-size:10pt;">Aggravated</h2>
                            </div>
                            <div class="stamina5" style="grid-area: ff;margin-left: 0px; padding-left: 4px;">
                                <input type="number" name="attr_aggravated_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="width:25px !important">
                            </div>
                        </div>
                    </div>
                    <div name="stamina" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="effort__row">
                            <div class="centertitle stamina1" style="line-height: 24px;">Effort</div>
                            <input type="number" name="attr__stamina" value="0" class="currentStamina stamina2 centered" style="padding: 0px;">
                            <h1 class="stamina3">/</h1>
                            <input type="number" name="attr__stamina_max" value="0" class="stamina6 centered" readonly="true" style="padding: 0px;" />
                            <div class="centertitle stamina4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;">Base</h2>
                            </div>
                            <div class="stamina5">
                                <input type="number" name="attr_stamina_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="position: relative;right: 7px;z-index: 1;width:30px !important">
                                <input type="hidden" name="attr__stamina_max">
                            </div>
                        </div>
                        <div class="effort__row">
                            <div class="centertitle shielding1" style="line-height: 24px;">Shielding</div>
                            <input type="number" name="attr__shielding" value="0" class="currentStamina shielding2 centered" style="padding: 0px;">
                            <h1 class="shielding3">/</h1>
                            <input type="number" name="attr__shielding_max" value="" class="shielding6 centered" readonly="true" style="padding: 0px;" />
                            <div class="centertitle shielding4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;">Base</h2>
                            </div>
                            <div class="shielding5">
                                <input type="number" name="attr_shielding_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="position: relative; right: 7px; z-index: 1; width: 30px !important;">
                                <input type="hidden" name="attr__shielding_max">
                            </div>
                        </div>
                    </div>
                    <div name="stress" class="passiveWarShell" style="margin-top: 19px; height: 136px; padding-bottom: 5px;">
                        <div class="passiveFlex passiveTitle">
                            <h1 class="header passiveTitleFlex" style="width: 144px;">Stress & Fatigue</h1>
                        </div>
                        <div style="display: grid; grid-template-columns: 95px 40px;row-gap: 3px;">
                            <h1 style="font-size: 16px;font-weight: 900;">Low Stress</h1>
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:16px !important; height:16px !important;" name="attr_low_stress" value="1" title="Low_Stress">
                            <h1 style="font-size: 16px;font-weight: 900;">Stress</h1>
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:16px !important; height:16px !important;" name="attr_stress" value="1" title="Stress">
                            <h1 style="font-size: 16px;font-weight: 900;border-bottom: 1px solid black;">Burned Out</h1>
                            <div style="border-bottom: 1px solid black; height: 23px; width: 40px; padding-left: 11px; margin-top: -1px;padding-left: 12px; margin-top: 1px;">
                                <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:16px !important; height:16px !important;" name="attr_burned_out" value="1" title="Burned_Out">
                            </div>
                            <h1 style="font-size: 16px;font-weight: 900;">Fatigued</h1>
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:16px !important; height:16px !important;" name="attr_fatigued" value="1" title="Fatigue">
                            <h1 style="font-size: 16px;font-weight: 900;">Exhausted</h1>
                            <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:16px !important; height:16px !important;" name="attr_exhausted" value="1" title="Exhausted">
                        </div>
                    </div>
                </div>



<!--
                <div style="display: grid; grid-template-columns: 130px 107px 90px 107px;">
                    <div name="stress" class="stressWoundsStamina__cell leftside mainGrid">
                        <h1 style="font-size: 12px;font-weight: 900;grid-area:d;">Aggravated Damage</h1>
                        <input type="number" class="numberWounds" name="attr_aggravated_value" value="0" style="grid-area:e;margin: 0px;">
                        <h1 style="font-size: 12px;font-weight: 900;grid-area:f;">Endurance</h1>
                        <input type="number" class="numberWounds" name="attr_endurance" value="0" style="grid-area:g;margin: 0px;">
                        <h1 style="grid-area:gg;margin-left: 5px;">/</h1>
                        <input type="number" class="numberWounds" name="attr_endurance_max" value="0" style="grid-area:ggg;margin: 0px;">
                        <h4 style="font-size: 12px;grid-area:h;">Fatigue/Exhausted: </h4>
                        <input type="checkbox" class="hiddenSheet centered fatigueExhausted" style="width:13px !important; height:13px !important;margin-right: 2px;grid-area:i;" name="attr_fatigued" value="1" title="Fatigue">
                        <input type="checkbox" class="hiddenSheet centered fatigueExhausted" name="attr_exhausted" value="1" title="Exhausted" style="width:13px !important; height:13px !important;grid-area:ii;">
                        <h1 class="stressWoundsBoxes" style="font-size: 13px;font-weight: 900;height: 15px;grid-area:j;">Stress</h1>
                        <input class="stressWoundsBox" type="checkbox" name="attr_stress1" value="1" style="width:13px !important; height:13px !important;grid-area:k;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_stress2" value="1" style="width:13px !important; height:13px !important;grid-area:kk;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_stress3" value="1" style="width:13px !important; height:13px !important;grid-area:kkk;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_stress4" value="1" style="width:13px !important; height:13px !important;grid-area:l;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_stress5" value="1" style="width:13px !important; height:13px !important;grid-area:ll;">
                        <h1 class="stressWoundsBoxes" style="font-size: 13px;font-weight: 900;height: 15px;grid-area:m;">Wounds</h1>
                        <input class="stressWoundsBox" type="checkbox" name="attr_wounds1" value="1" style="width:13px !important; height:13px !important;grid-area:n;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_wounds2" value="1" style="width:13px !important; height:13px !important;grid-area:nn;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_wounds3" value="1" style="width:13px !important; height:13px !important;grid-area:nnn;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_wounds4" value="1" style="width:13px !important; height:13px !important;grid-area:o;">
                        <input class="stressWoundsBox" type="checkbox" name="attr_wounds5" value="1" style="width:13px !important; height:13px !important;grid-area:oo;">
                        <h1 class="stressWoundsBoxes" style="font-size: 11px;font-weight: 900;height: 15px;grid-area:p;">Wound Recovery Time</h1>
                        <input type="number" class="numberWounds" name="attr_recovery" value="0" style="grid-area:q;margin: 0px;">
                    </div>
                    <div name="shielding" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="shielding__row">
                            <div class="centertitle shielding1" style="line-height: 24px;">Shielding</div>
                            <input type="number" name="attr__shielding" value="0" class="currentStamina shielding2 centered" style="padding: 0px;">
                            <h1 class="shielding3">/</h1>
                            <input type="number" name="attr__shielding_max" value="" class="shielding6 centered" readonly="true" style="padding: 0px;" />
                            <div class="centertitle shielding4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;">Base</h2>
                            </div>
                            <div class="shielding5">
                                <input type="number" name="attr_shielding_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="margin-left: -14px;">
                                <input type="hidden" name="attr__shielding_max">
                            </div>
                        </div>
                    </div>
                    <div name="stamina" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="shielding__row">
                            <div class="centertitle stamina1" style="line-height: 24px;">Stamina</div>
                            <input type="number" name="attr__stamina" value="0" class="currentStamina stamina2 centered" style="padding: 0px;">
                            <h1 class="stamina3">/</h1>
                            <input type="number" name="attr__stamina_max" value="0" class="stamina6 centered" readonly="true" style="padding: 0px;" />
                            <div class="centertitle stamina4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;">Base</h2>
                            </div>
                            <div class="stamina5">
                                <input type="number" name="attr_stamina_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="position: relative;right: 7px;z-index: 1;width:30px !important">
                                <input type="hidden" name="attr__stamina_max">
                            </div>
                        </div>
                    </div>
                    <div name="stamina" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="shielding__row">
                            <div class="centertitle stamina1" style="line-height: 24px;">Hit Points</div>
                            <input type="number" name="attr__hit_points" value="0" class="currentStamina stamina2 centered" style="padding: 0px;">
                            <h1 class="stamina3">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="stamina6 centered" readonly="true" style="padding: 0px;" />
                            <div class="centertitle stamina4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;">Base</h2>
                            </div>
                            <div class="stamina5">
                                <input type="number" name="attr_hit_points_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="margin-left: -14px;">
                                <input type="hidden" name="attr__hit_points_max">
                            </div>
                        </div>
                    </div>
                </div>-->
                <div name="passiveWarStatsReactiveWar" class="passiveWarStatsReactiveWar__row">
                    <div name="passiveWAR" class="passiveWarShell">
                        <div class="passiveFlex passiveTitle" style="grid-area:a">
                            <h4 class="header" style="width:39px;font-size: 8pt;grid-area: aa;margin-top: -2px;margin-left: 6px;">Flawed: </h4>
                            <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_passive_flawed" value="2" style="height: 13px !important; width: 13px !important; grid-area: b; margin-top: -1px !important; margin-left: 2px;">
                            <input type="hidden" name="attr_passive_flawed" value="0" class="passive_flawed_toggle">
                            <h1 class="header passiveTitleFlex" style="width: 195px;">Passive WAR</h1>
                            <button type="action" name="act_passive" class="diceButton">k</button>
                        </div>
                        <div style="display:flex;width: 287px;margin-left:4px;margin-right:4px;justify-content: space-between;">
                            <h4 style="grid-area:b; margin-left:3px;min-width:30px">Type:</h4>
                            <select type="text" class="hiddenSheet activeSelect" name="attr_passive_type" style="max-width: 70px;min-width: 70px; font-size: 10pt !important; font-weight: 900; margin-top: -2px;margin-left: -2px;">
                                <option value="1" selected>Ethereal</option>
                                <option value="2">Natural</option>
                                <option value="3">Physical</option>
                            </select>
                            <input type="hidden" class="hiddenSheet centered" name="attr_passive_type" value="1">
                            <input type="hidden" class="hiddenSheet centered" name="attr_defence_bonus" value="2">
                            <input type="hidden" class="hiddenSheet centered" name="attr_resistance_bonus" value="1">
                            <input type="hidden" class="hiddenSheet centered" name="attr_mitigation_bonus" value="0">
                            <input type="hidden" class="hiddenSheet centered" name="attr_passive_type_effect" value="Double Effort when spent on Defence Value Grants 1 free hex of movement per leveling stage after the current Attack is resolved. This Movement does not trigger any effects or qualities that rely uppon movement.">

                            <h4 style="font-size: 9pt; margin-bottom: 1px;min-width:67px">Roll Modifier: </h4>
                            <input type="number" style="min-width: 20px; margin-bottom: 2px;max-width: 20px;" class="hiddenSheet centered" name="attr_passiveModifier" value="0">
                            <h4 style="font-size: 9pt; margin-bottom: 2px;min-width:61px">Shards Used: </h4>
                            <input type="number" style="width:25px; background: transparent;grid-area:q;padding-bottom: 3px !important;margin-left: -3px;max-width: 25px;" class="hiddenSheet centered" name="attr_shards_max" value="0+(@{detection_shards})+(@{mitigation_shards})+(@{movement_shards})+(@{shielding_shards})+(@{survival_passive_shards})+(@{defence_shards})-(@{passive_flawed})" disabled>
                            <input type="hidden" name="attr_passive_flawed" value="0" class="passive_flawed_toggle">
                            <h4 style="font-size: 10pt; margin-top: -3px;margin-left: -4px;" class="passive_flawed">+2</h4>
                        </div>
                        <div style="display:flex;width: 287px;margin-left:4px;margin-right:4px;justify-content: space-between;margin-top: -4px;">
                            <div style="display:flex;align-self: end;grid-area: g;">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Strength</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_defence_shards" value="0">
                                </div>
                                <div class="shardFlexR" style="margin-left: 1px;width:50px">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Defence</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_defence" value="@{defence_shards}+@{defence_bonus}" disabled>
                                </div>
                                <div class="shardFlexR" style="margin-left: 1px; margin-right: 5px;width:50px">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Resistance</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_resistance" value="ceil((@{defence_shards})/2+@{resistance_bonus})" disabled>
                                </div>
                            </div>
                            <div style="display:flex;align-self: end;grid-area:k">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Impact</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_mitigation_shards" value="0">
                                </div>
                                <div class="shardFlexRR" style="margin-left: 1px;">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Mitigation</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_mitigation" value="@{mitigation_shards}+@{mitigation_bonus}" disabled>
                                </div>
                            </div>

                        </div>
                        <div style="display:flex;width: 287px;margin-left:4px;margin-right:4px;justify-content: space-between;">
                            <div style="display:flex;align-self: end;grid-area:z">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Survival</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_survival_passive_shards" value="0">
                                </div>
                                <div class="shardFlexR" style="margin-left: 1px; width:101px !important;">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Hit Points</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_survivalPassive" value="@{survival_passive_shards}*9" disabled>
                                </div>
                            </div>
                            <div style="display:flex;align-self: end;grid-area:x">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Focus</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_shielding_shards" value="0">
                                </div>
                                <div class="shardFlexRR" style="margin-left: 1px;">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Shielding</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_focusPassive" value="@{shielding_shards}*3" disabled>
                                </div>
                            </div>
                        </div>
                        <div style="display:flex;width: 287px;margin-left:4px;margin-right:4px;justify-content: space-between;">
                            <div style="display:flex;align-self: end;grid-area:m;">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Sight</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_detection_shards" value="0">
                                </div>
                                <div class="shardFlexRR" style="margin-left: 1px; width:101px !important;">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Detection Range</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_detection" value="@{detection_shards}" disabled>
                                </div>
                            </div>
                            <div style="display:flex;align-self: end;grid-area:gg">
                                <div class="shardFlexL" style="width: 47px !important">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Finesse</h3>
                                    <input type="number" class="hiddenSheet shardLevel" name="attr_movement_shards" value="0">
                                </div>
                                <div class="shardFlexR" style="margin-left: 1px; width:80px !important;">
                                    <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Movement</h3>
                                    <input type="number" class="hiddenSheet augmentLevel" name="attr_movement" value="@{movement_shards}" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="passiveDescription test">
                            <input type="hidden" name="attr_passive_flawed" value="0" class="passive_flawed_toggle">
                            <textarea spellcheck='false' autocorrect='off' name="attr_passive_flaw" class="passiveReactiveWARDescription passive_flawed" style="height: 40px; width: 100% !important; margin: 0px; margin-bottom: 7px; margin-left: 3px;" placeholder="Flaw"></textarea>
                            <span style="display:flex;    height: 13px;">
                                <h4 style="margin-left: 3px; font-size: 11pt;margin-top: -2px;margin-right: 10px;">Reaction</h4>
                                <button type="roll" class="button reactiveButton" value="&{template:reactive} {{name=@{character_name}}} {{type=[[@{passive_type}]]}}" name="roll_reactive" style="margin-top: -10px;margin-left: -8px;width:18px !important;font-size: 23pt !important;margin-right:8px"></button>
                            </span>
                        </div>
                    </div>
                    <div name="pursuits" class="reactiveWarShell" style="height: 145px; margin-top:-1px">
                        <div class="reactiveFlex reactiveTitle test" style="grid-area:a">
                            <h1 class="header reactiveTitleFlex" style="font-size: 13pt;">Pursuits</h1>
                        </div>
                        <div style="display:flex">
                            <h4 style="width: 40px;font-size:8pt">Primary:</h4>
                            <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet" name="attr_main_pursuit_name" autocomplete="nope" style="width:65px;font-size:8pt !important;" placeholder="Name">
                            <button type='roll' style="margin-top: -5px;margin-bottom: 5px !important;font-size: 21pt !important;" class="button pursuitButton" value='&{template:pursuit} {{pursuitName=: @{main_pursuit_name}}} {{name=@{character_name}}} {{version=Pursuit}} {{level=@{main_pursuit_k}}} {{roll=[[1d10]]}} {{overwhelming=[[10+1d10]]}} {{underwhelming=[[1-1d10]]}} {{difficulty=[[?{Challenge Level|0}]]}}' name='roll_mainPursuit'></button>
                        </div>
                        <div style="display:flex;margin-top: -5px;">
                            <h4 style="width: 40px;font-size:8pt">Method:</h4>
                            <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet" name="attr_main_pursuit_method" autocomplete="nope" style="width:90px;font-size:8pt !important;margin-bottom:3px" placeholder="Method">
                        </div>
                        <div style="display: flex; padding-bottom: 1px !important; margin-top: -5px; border-bottom: 1px solid black;">
                            <h4 style="font-size:8pt">Knowledge:</h4>
                            <select type="text" style="width: 80px; height: 16px !important; font-size: 9pt; padding-left: 0px !important;" class="hiddenSheet WARSelect" name="attr_main_pursuit_k">
                                <option value="None" selected>None</option>
                                <option value="Basic">Basic</option>
                                <option value="Learned">Learned</option>
                                <option value="Specialised">Specialised</option>
                                <option value="Expert">Expert</option>
                            </select>
                        </div>
                        <div style="display:flex">
                            <h4 style="width: 45px;font-size:8pt">Secondary:</h4>
                            <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet" name="attr_secondary_pursuit_name" autocomplete="nope" style="width:60px;font-size:8pt !important;" placeholder="Name">
                            <button type='roll' style="margin-top: -5px;margin-bottom: 5px !important;font-size: 21pt !important;" class="button pursuitButton" value='&{template:pursuit} {{pursuitName=: @{secondary_pursuit_name}}} {{name=@{character_name}}} {{version=Pursuit}} {{level=@{secondary_pursuit_k}}} {{roll=[[1d10]]}} {{overwhelming=[[10+1d10]]}} {{underwhelming=[[1-1d10]]}} {{difficulty=[[?{Challenge Level|0}]]}}' name='roll_secondaryPursuit'></button>
                        </div>
                        <div style="display:flex;margin-top: -5px;">
                            <h4 style="width: 40px;font-size:8pt">Method:</h4>
                            <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet" name="attr_secondary_pursuit_method" autocomplete="nope" style="width:90px;font-size:8pt !important;margin-bottom:3px" placeholder="Method">
                        </div>
                        <div style="display: flex; padding-bottom: 1px !important; margin-top: -5px; border-bottom: 1px solid black;">
                            <h4 style="font-size:8pt">Knowledge:</h4>
                            <select type="text" style="width: 80px; height: 16px !important; font-size: 9pt; padding-left: 0px !important;" class="hiddenSheet WARSelect" name="attr_secondary_pursuit_k">
                                <option value="None" selected>None</option>
                                <option value="Basic">Basic</option>
                                <option value="Learned">Learned</option>
                                <option value="Specialised">Specialised</option>
                                <option value="Expert">Expert</option>
                            </select>
                        </div>
                        <div style="display: flex; margin-top: 3px;justify-content: space-between; margin-right: 3px;">
                            <a class="button anchorButton abilitiesActionsButton" href="#toolkit" style="margin-left: 3px; width: 60px; height: 18px !important; font-size: 9pt; padding-bottom:0px !important">Toolkit</a>

                            <a class="button anchorButton abilitiesActionsButton" href="#equipment" style="height: 18px !important; font-size: 9pt; width: 60px; padding-bottom:0px !important">Equipment</a>
                        </div>
                    </div>
                </div>
                <input type="hidden" name="attr_passive_flawed" value="0" class="passive_flawed_toggle">
                <div name="effects" class="reactiveWarShell effectsbox" style="margin-right: 2px;width: 435px;margin-bottom: 3px;background-color: #16335021">
                    <div class="reactiveFlex reactiveTitle test" style="grid-area:a">
                        <h1 class="header reactiveTitleFlex" style="font-size: 13pt;">Effects</h1>
                    </div>
                    <input type="hidden" name="attr_passive_flawed" value="0" class="passive_flawed_toggle">
                    <textarea spellcheck='false' autocorrect='off' name="attr_all_effects" class="activeTextarea effectsboxtext" style="margin-left: 5px !important; margin: 1px; width:429px !important;background-color: transparent;border:transparent" placeholder="Effects"></textarea>
                </div>
            </div>

            <div class="right_side" style="display:flex;flex-wrap: wrap;height: fit-content;column-gap: 5px;">
                <div>
                    
                    <div name="Active WAR" class="lowerPage__cell" style="position: relative; top: -29px;height: fit-content;">
                        <div class="activeColumnTitle">
                            <h1 class="header" style="line-height:38px;font-size: 16pt;width: 145px;margin-right: auto;">Active WAR</h1>
                            <h1 class="header" style="width:94px;font-size: 10pt;">Max active slots</h1>
                            <input type="number" style="width:25px;height:20px;padding-left:3px" class="hiddenSheetTitle centered" name="attr_total_active" value="0">
                            <h1 class="header" style="width:105px;font-size: 10pt;">Max inactive slots</h1>
                            <input type="number" style="width:25px;height:20px;margin-right: 10px;" class="hiddenSheetTitle centered" name="attr_total_inactive" value="0">
                        </div>
                        <div class="activeWARDouble">
                            <fieldset class="repeating_war" style="grid-area:a">
                                <input type="hidden" class="activeType" name="attr_active_name" value="" />
                                <details class="repeating_war">
                                    <summary>
                                        <div class="activeWarShellSmallDouble">
                                            <div class="activeGridDouble passiveTitle">
                                                <h4 class="header" style="width:35px;font-size: 8pt;grid-area: a;margin-top: -2px;">Active: </h4>
                                                <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_active" value="1" style="height:13px !important;width:13px !important;grid-area: b;margin-top: -1px !important;">
                                                <h4 class="header" style="width:35px;font-size: 8pt;grid-area: aa;margin-top: -2px;">Uses: </h4>
                                                <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_active_uses" value="1" style="height:13px !important;width:13px !important;grid-area: bb;margin-top: -1px !important;">
                                                <input type="hidden" class="activeUsesToggle" name="attr_active_uses" value="0" />
                                                <h4 class="header" style="width:39px;font-size: 8pt;grid-area: aa;margin-top: -2px;">Flawed: </h4>
                                                <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_active_flawed" value="2" style="height:13px !important;width:13px !important;grid-area: b;margin-top: -1px !important;">
                                                <input type="hidden" name="attr_active_flawed" value="0" class="flawed_toggle">
                                                <div class="activeWARNameDouble">
                                                    <input type="text" name="attr_active_slot" style="font-size: 17pt !important;padding-bottom: 6px;padding-top: 0px !important;" value="New WAR (Click to open)" class="header passiveTitleFlex activeWARNameDouble" readonly="true" />
                                                </div>
                                                <h4 class="header activeClickDouble"></h4>
                                                <input type="hidden" class="activeInputResult" name="attr_active" value="0" />
                                                <div style="grid-area: d">
                                                    <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                    <button type="action" name="act_damage" class="diceButton activeDamage">k</button>
                                                    <button type="action" name="act_healing" class="diceButton activeHealing">k</button>
                                                    <button type="action" name="act_malicious" class="diceButton activeMalicious">k</button>
                                                    <button type="action" name="act_beneficial" class="diceButton activeBeneficial">k</button>
                                                </div>
                                            </div>
                                            <input type="hidden" name="attr_active_damage_bonus" value="4" />
                                            <input type="hidden" name="attr_active_healing_bonus" value="0" />
                                            <input type="hidden" name="attr_active_alleviation_bonus" value="0" />
                                            <input type="hidden" name="attr_active_offence_bonus" value="1" />
                                            <input type="hidden" name="attr_active_manipulation_bonus" value="0" />
                                            <input type="hidden" name="attr_active_crescendo_bonus" value="0" />
                                            <input type="hidden" class="activeUsesToggle" name="attr_active_uses" value="0" />
                                            <div class="activeGridDoubleSecond" style="width: 430px; margin-right: 4px !important;">
                                                <h4 style="margin-left: 5px;font-size: 8pt;min-width: 27px;">Type: </h4>
                                                <select type="text" class="hiddenSheet activeSelect" name="attr_active_type" style="width:70px;margin-left: -7px; margin-right: -2px;">
                                                    <option value="1" selected>Assault</option>
                                                    <option value="2">Keen</option>
                                                    <option value="3">Beneficial</option>
                                                    <option value="4">Crescendo</option>
                                                    <option value="5">Malicious</option>
                                                    <option value="6">Mending</option>
                                                </select>
                                                <input type="hidden" name="attr_active_type" value="1" />
                                                <input type="hidden" class="activeTypeName" name="attr_active_type_name" value="Assault" />
                                                <h4 style="font-size: 8pt;">Range: </h4>
                                                <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_min_rangr" value="0">
                                                <input type="hidden" class="activeUsesToggle" name="attr_active_uses" value="0" />
                                                <h4 style="font-size: 9pt;" class="stupid"> - </h4>
                                                <h4 style="font-size: 9pt;" class="stupider"> - </h4>
                                                <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_max_range" value="0">
                                                <input type="hidden" class="activeUsesToggle" name="attr_active_uses" value="0" />
                                                <div class="shardUseFlex activeUses" style="align-self: end;">
                                                    <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                    <h3 style="line-height: 10px; font-size: 8pt;text-align: center;" class="shardTitle">Uses</h3>
                                                    <div style="display:flex;align-items: flex-end;height: 11px;">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <input type="number" class="hiddenSheet augmentLevel" style="width: 17px !important;" name="attr_uses" value="0">
                                                        <h4 style="font-size: 9pt;"> / </h4>
                                                        <input type="number" class="hiddenSheet augmentLevel" style="width: 17px !important;" name="attr_uses_max" value="0">
                                                    </div>
                                                </div>
                                                <h4 style="font-size: 8pt;margin-left: 2px;min-width:60px">Roll Modifier: </h4>
                                                <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_shards" value="0">
                                                <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                <input type="hidden" name="attr_base_damage" value="0">
                                                <h4 style="font-size: 8pt;min-width: 37px;">Stamina: </h4>
                                                <input type="number" style="width:21px;" class="hiddenSheet centered" name="attr__stamina" value="1">
                                                <h4 style="font-size: 8pt;min-width: 55px;margin-right: -1px;">Shards Used: </h4>
                                                <input type="number" style="width:25px; background: transparent; margin-top: -1px !important; margin-left: -6px; margin-right: -2px;  text-align: right !important;" class="hiddenSheet centered" name="attr_shards_max" value="(@{impact_shards})+(@{strength_shards})+(@{sight_shards})+(@{survival_shards})+(@{focus_shards})+(@{finesse_shards})-(@{active_flawed})" disabled>
                                                <input type="hidden" name="attr_active_flawed" value="0" class="flawed_toggle">
                                                <h4 style="font-size: 10pt; margin-top: -3px;" class="flawed">+2</h4>
                                            </div>
                                        </div>
                                    </summary>
                                    <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                    <div class="activetab_containerNew">
                                        <div id="activecontent1" class="activetab-content" name="attr_active_statistics" style="grid-area:d">
                                            <div class="activeGridInnerDouble">
                                                <h4 style="font-size: 8pt;">Name: </h4>
                                                <input type="text" name="attr_active_name_input" value="" placeholder="WAR Name" class="hiddenSheet" style="width: 98%; margin-bottom: 2px; font-size: 12pt; margin-right: 4px;">
                                                <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Impact</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_impact_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;width:47px;margin-right:3px">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle activeDamage activeMalicious">Damage</h3>
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle activeHealing activeBeneficial">Healing</h3>
                                                        <input type="number" class="hiddenSheet augmentLevel activeDamage activeMalicious" name="attr_damage_shards_value" value="(@{impact_shards}*2)+(@{active_crescendo_bonus}*@{_stamina_max}*2)+@{active_damage_bonus}" disabled>
                                                        <input type="number" class="hiddenSheet augmentLevel activeHealing activeBeneficial" name="attr_healing_shards_value" value="(@{impact_shards})+(@{active_crescendo_bonus}*@{_stamina_max})+@{active_healing_bonus}" disabled>
                                                    </div>
                                                </div>
                                                <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 8pt;" class="shardTitle">Strength</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_strength_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;margin-right:3px">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle activeDamage">Offence</h3>
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle activeHealing">Alleviation</h3>
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle activeMalicious activeBeneficial">Manipulation</h3>
                                                        <input type="number" class="hiddenSheet activeDamage augmentLevel" name="attr_offence" value="@{strength_shards}+@{active_offence_bonus}" disabled>
                                                        <input type="number" class="hiddenSheet activeHealing augmentLevel" name="attr_alleviation" value="ceil(@{strength_shards}/2)+@{active_alleviation_bonus}" disabled>
                                                        <input type="number" class="hiddenSheet activeMalicious activeBeneficial augmentLevel" name="attr_affliction" value="ceil(@{strength_shards}/2)+@{active_manipulation_bonus}" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="activeGridInnerTertiaryDouble">
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Survival</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_survival_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;width: 51px;">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Recovery</h3>
                                                        <input type="number" class="hiddenSheet augmentLevel" name="attr_survival" value="@{survival_shards}" disabled>
                                                    </div>
                                                </div>
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Focus</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_focus_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;width: 50px; ">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Shielding</h3>
                                                        <input type="number" class="hiddenSheet augmentLevel" name="attr_focus" value="ceil(@{focus_shards}/2)" disabled>
                                                    </div>
                                                </div>
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Finesse</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_finesse_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;width: 58px;">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Movement</h3>
                                                        <input type="number" class="hiddenSheet augmentLevel" name="attr_finesse" value="ceil(@{finesse_shards}/2)" disabled>
                                                    </div>
                                                </div>
                                                <div style="display:flex;align-self: end;">
                                                    <div class="shardFlexL">
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Sight</h3>
                                                        <input type="number" class="hiddenSheet shardLevel" name="attr_sight_shards" value="0">
                                                    </div>
                                                    <div class="shardFlexR" style="margin-left: 1px;width: 67px;">
                                                        <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                        <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle">Bonus Range</h3>
                                                        <input type="number" class="hiddenSheet augmentLevel" name="attr_sight" value="@{sight_shards}" disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                            <input type="hidden" name="attr_active_flawed" value="0" class="flawed_toggle">
                                            <div class="activeGridInnerFourthDoubleDouble">
                                                <h4 style="margin-left: 5px;font-size: 8pt;min-width: 85px;">Effort Modification: </h4>
                                                <input type="text" name="attr_active_shape" value="" placeholder="Leave empty if not modified" class="hiddenSheet" style="margin-bottom: 2px; font-size: 9.5pt; margin-right: 4px;">
                                            </div>
                                            <div class="activeGridInnerFourthDouble" style="flex-direction: row;">
                                                <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                <div class="shardFlexR condition" style="margin-left: 1px;min-width: 105px; height: 28px;">
                                                    <input type="hidden" class="activeType" name="attr_active_type" value="1" />
                                                    <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle con">Condition</h3>
                                                    <h3 style="line-height: 10px; font-size: 9pt;" class="shardTitle boon">Boon</h3>
                                                    <input type="text" class="hiddenSheet augmentLevel" name="attr_active_condition" style="width: 99% !important;font-size: 11pt !important; height: 17px !important;" value="" placeholder="Condition">
                                                </div>
                                                <input type="hidden" name="attr_active_flawed" value="0" class="flawed_toggle">
                                                <textarea spellcheck='false' autocorrect='off' name="attr_active_flaw" class="activeTextarea flawed" style="height: 45px; width: 100% !important; margin: 0px;" placeholder="Flaw"></textarea>
                                            </div>
                                        </div>
                                </details>

                            </fieldset>
                        </div>
                    </div>
                </div>
                <div name="Actions" class="actionShell" style="height: fit-content; margin-right:-35px">
                    <div name="actionsTitle" class="centertitleSmall actionsTitle" style="border-top-left-radius: 10px; border-top-right-radius: 10px;display: flex; align-items: center;width: 430px;">
                        <h1 class="header passiveTitleFlex" style="width:200px;">Powers & Abilities</h1>
                        <h3 class="header" style="width:100px;">Aetheric Energy: </h3>
                        <input type="number" style="width:25px;height:20px;padding-left:3px;margin-left:3px;margin-top: 2px;" class="hiddenSheetTitle centered" name="attr_power_current_uses" value="0">
                        <h1 class="header" style="width:15px; margin-top: 2px; text-align: center;"> / </h1>
                        <input type="number" style="width:25px;height:20px; margin-top: 2px;margin-right: 8px;" class="hiddenSheetTitle centered" name="attr_power_max_uses" value="0">
                    </div>
                    <div style="display:grid; grid-template-rows: fit-content(19px) 1fr; row-gap: 2px;">
                        <div style="display: flex; column-gap: 2px; width: 425px !important; row-gap: 2px; padding-right: 2px; justify-content: flex-end; padding-left: 3px;">
                            <input type="hidden" class="bionic_check" name="attr_legacy" value="None">
                            <a class="button anchorButton abilitiesActionsButton bionics" href="#bionics">Bionics</a>
                        </div>
                        <div style="display: flex; flex-direction: column; width: 427px !important; row-gap: 2px; padding-right: 2px;margin-left:1px">
                            <fieldset class="repeating_ability">
                                <div>
                                    <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 2px; width:420px">
                                        <summary>
                                            <div class="blessingsFlex">
                                                <h3 class="header" style="width: 25px; font-size: 6pt; margin-left: 7px;">Power: </h3>
                                                <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_isWAR" value="1" style="height:11px !important;width:11px !important;">
                                                <h4 class="header blessingsClick" style="margin-left: 50px; width: 335px;"></h4>
                                                <input type="text" name="attr_ability_name_title" value="New Ability click here" class="blessingsName" style="width: 345px !important; margin-right: -4px;" readonly="true" />
                                                <button type="action" name="act_power" class="diceButton" style="font-size: 21px;">k</button>
                                            </div>
                                        </summary>
                                        <input type="hidden" class="warToggle" name="attr_isWAR" value="0">
                                        <div class="nonWAR">
                                            <div class="passiveFlex">
                                                <h4 style="margin-left:2px">Name:</h4>
                                                <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet blessingsNameInput" name="attr_ability_name" autocomplete="nope" placeholder="Name">
                                                <h4>Type:</h4>
                                                <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet blessingsNameInput" name="attr_ability_type" autocomplete="nope" placeholder="Type" style="width: 93px;margin-right: 3px;">
                                            </div>
                                            <textarea spellcheck='false' autocorrect='off' name="attr_ability_description" class="blessingsDescription" placeholder="Description"></textarea>
                                        </div>
                                        <input type="hidden" class="warToggle" name="attr_isWAR" value="0">
                                        <div class="isWAR">
                                            <div class="passiveFlex">
                                                <h4 style="margin-left:2px">Name:</h4>
                                                <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet blessingsNameInput" name="attr_ability_name" autocomplete="nope" placeholder="Name">
                                                <h4>Type:</h4>
                                                <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet blessingsNameInput" name="attr_ability_type" autocomplete="nope" placeholder="Type" style="width: 93px;margin-right: 3px;">
                                            </div>
                                            <h4 style="height: 13px;margin-left:2px">Normal Use</h4>
                                            <textarea spellcheck='false' autocorrect='off' name="attr_ability_description" class="blessingsDescription" placeholder="Normal Use Description" style="height:175px;margin-bottom:0px"></textarea>
                                            <div style="display:flex; height: 13px;">
                                                <h4 style="margin-left:2px">Aetheric Use</h4>
                                                <button type="action" name="act_aetheric" class="diceButton" style="font-size: 21px;margin-top: -3px !important; color: black; -webkit-text-stroke-color: black;">k</button>
                                            </div>
                                            <textarea spellcheck='false' autocorrect='off' name="attr_ability_description_two" class="blessingsDescription" placeholder="Aetheric Use Description" style="height:175px"></textarea>
                                        </div>
                                    </details>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="antagonist_sheet" style="margin-top: 28px; margin-left: -3px;">
        <div name="antagonist grid" style="display:grid; grid-template-columns: 433px 440px; height:fit-content;column-gap: 10px;">
            <div name="left side" style="display:flex;flex-direction: column;">
                <img class="logoAntagonist" src="https://i.imgur.com/bZsdIU4.png" alt="The Advanced" style="left: 40px; top: -27px; position: relative;">
                <div style="top: -43px; position: relative;">
                    <div style="display:flex">
                        <h2>Name:</h2>
                        <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterNameAntagonist" name="attr_character_name" autocomplete="nope" style="width: 156px !important; margin-right: 5px;">
                        <h2 style="min-width: 120px;">Antagonist Type:</h2>
                        <select class="hiddenSheet manifestationAntagonist" name="attr_antagonist_type" style="width: 100px;margin-top: -4px;">
                            <option value="Pushover" selected>Pushover</option>
                            <option value="Defiant">Defiant</option>
                            <option value="Grim">Grim</option>
                        </select>
                    </div>
                    <div style="display:flex">
                        <h2>Species:</h2>
                        <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterNameAntagonist" name="attr_species" autocomplete="nope" style="width: 147px !important; margin-right: 5px;">
                        <h2 style="min-width: 120px;">Leveling Stage:</h2>
                        <select class="hiddenSheet manifestationAntagonist" name="attr_leveling_stage" style="width: 100px;margin-bottom: 5px; margin-top: -4px;">
                            <option value="Awakening" selected>Awakening</option>
                            <option value="Ascension">Ascension</option>
                            <option value="Astral">Astral</option>
                        </select>
                    </div>
                </div>
                <div name="name" class="nameAndLegacy__cell" style="position: relative; top: -44px;">
                    <div name="shielding" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="shielding__rowAntagonist">
                            <div class="centertitle shielding1" style="line-height: 24px;">Shielding</div>
                            <input type="number" name="attr__shielding" value="0" class="currentStamina shielding2 centered" style="width:75% !important;height:28px !important">
                            <h1 class="shielding3">/</h1>
                            <input type="number" name="attr__shielding_max" value="" class="shielding6 centered" style="width:75% !important;height:28px !important" readonly="true" />
                            <div class="centertitle shielding4">
                                <h2 class="centertitle" style="line-height: 21px;">Base</h2>
                            </div>
                            <div class="shielding5">
                                <input type="number" name="attr_shielding_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="margin-left: -20px;">
                            </div>
                        </div>
                    </div>
                    <div name="stamina" class="stressWoundsStamina__cell shieldingStaminaFlexCorrection">
                        <div class="hitpoints__rowAntagonist">
                            <div class="centertitle stamina1" style="line-height: 24px;">Hit Points</div>
                            <input type="number" name="attr__hit_points_one" value="0" class="currentStamina stamina2 centered" style="width:75% !important;height:28px !important">
                            <h1 class="stamina3">/</h1>
                            <input type="number" name="attr__hit_points_max" value="0" class="stamina6 centered" style="width:75% !important;height:28px !important" readonly="true" />
                            <div class="centertitle stamina4">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;font-size:10pt">Base</h2>
                            </div>
                            <div class="stamina5" style="border-bottom-right-radius: 0px;">
                                <input type="number" name="attr_hit_points_max_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="margin-left: -4px;width:25px !important">
                                <input type="hidden" name="attr__hit_points_max">
                            </div>
                            <div class="centertitle stamina4" style="grid-area: ee;border-bottom-right-radius: 0px;;border-bottom-left-radius: 0px;">
                                <h2 style="line-height: 21px; margin-left: -10px; text-align: center; font-weight: bolder; color: #85D6FF;font-size:10pt;">Aggravated</h2>
                            </div>
                            <div class="stamina5" style="grid-area: ff;margin-left: 0px; padding-left: 4px;">
                                <input type="number" name="attr_aggravated_value" value="0" class="hiddenSheetTitle centerText shieldingStaminaMax" style="width:25px !important;margin-right: 20px !important;">
                            </div>
                        </div>
                    </div>
                </div>
                <div name="combatBlock" class="combatShell" style="position: relative; top: -40px;">
                    <div class="combatFlex combatTitle">
                        <h1 class="header" style="width: 210px;">Combat Block</h1>
                    </div>
                    <div class="combatGridAntagonist flexJustify" style="border-bottom:1px solid black;">
                        <h4 style="min-width: 90px;">Manoeuvre:</h4>
                        <input type="number" style="height:15px;width:25px;margin-right: 10px;margin-left: -27px;" class="hiddenSheet centered" name="attr_manoeuvre_value" value="0">
                        <button type="action" name="act_manoeuvre" class="manButton" style="margin-left: -18px !important;">k</button>
                        <h4 style="min-width: 90px;">Movement:</h4>
                        <input type="number" style="height:15px;width:25px" name="attr_free_movement" class="hiddenSheet centered" value="0">
                        <h4 style="min-width: 90px;">Detection Range:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_detection_range" value="0">
                    </div>
                    <div class="combatGridAntagonist flexJustify" style="border-bottom:1px solid black;">
                        <h4 style="min-width: 90px;">Aura Size:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_aura_size" value="0">
                        <h4 style="min-width: 90px;">Base Offence:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_base_offence" value="0">
                        <h4 style="min-width: 90px;">Base Damage:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_base_damage" value="0">
                    </div>
                    <div class="combatGridAntagonist flexJustify">
                        <h4 style="min-width: 90px;">Base Mitigation:</h4>
                        <input type="number" style="height:15px;width:25px" name="attr_mitigation_value" class="hiddenSheet centered" value="0">
                        <h4 style="min-width: 90px;">Base Defence:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_base_defence" value="0">
                        <h4 style="min-width: 90px;">Base Resistance:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_base_resistance" value="0">
                    </div>
                </div>
                <div class="activeColumnTitleAntagonistTwo" style="position: relative;top: -35px;">
                    <h1 class="header" style="line-height: 25px; font-size: 18pt; width: 145px; padding-bottom: 2px;">Qualities</h1>
                </div>
                <input type="hidden" name="attr_quality_description_attack">
                <input type="hidden" name="attr_quality_description_defence">
                <div style="position: relative; top: -35px;">
                    <fieldset class="repeating_qualities" style="grid-area:a; width:80%;">
                        <div>
                            <details class="repeating_qualities">
                                <summary>
                                    <div class="qualityTitle">
                                        <h4 class="header" style="width:125px;font-size: 8pt">Attach to Defence: </h4>
                                        <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_attach_defence" value="1" style="height:15px !important;width:15px !important;">
                                        <h4 class="header qualityClick"></h4>
                                        <input type="text" name="attr_quality_name" style="font-size: 11pt !important; padding-bottom: 4px; padding-top: 0px !important; width: 75%; height: 17px !important;" value="New Quality (Give me a name)" class="header passiveTitleFlex activeWARNameDouble" readonly="true" />
                                        <input type="checkbox" class="hiddenSheet centered activeInput" name="attr_attach_attack" value="1" style="height:15px !important;width:15px !important;">
                                        <h4 class="header" style="width:125px;font-size: 8pt">:Attach to Attacks </h4>
                                    </div>
                                </summary>
                                <div>
                                    <div class="flexJustify" style="display:flex;border-bottom:1px solid black;">
                                        <h4>Name:</h4>
                                        <input type="text" name="attr_quality_name_input" value="" placeholder="Quality Name" class="hiddenSheet" style="border:0px;font-size:16px;width: 98%;">
                                    </div>
                                    <textarea spellcheck='false' autocorrect='off' name="attr_quality_description" class="activeTextareaAntagonist" style="width: 96%; height: 75px; margin-bottom: 5px; margin-top: 5px; font-size: 10pt;
                                        line-height: 14px; margin-left: 8px;" placeholder="Description"></textarea>
                                </div>
                            </details>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div name="right side" style="display:flex;flex-direction: column;max-width: 423px; position: relative; top: -45px;">
                <div name="passiveWAR" class="passiveWarShellAntagonist">
                    <div class="passiveFlex passiveTitle" style="grid-area:a">
                        <h1 class="header passiveTitleFlex">Defence</h1>
                    </div>
                    <div class="combatGridAntagonist flexJustify" style="padding-left:20px;padding-right:20px;">
                        <h4>Mitigation:</h4>
                        <input type="number" style="height:15px;width:25px" name="attr_mitigation_value" class="hiddenSheet centered" value="0">
                        <h4>Defence:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_defenceAntagonist" value="0">
                        <h4>Resistance:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_resistanceAntagonist" value="0">
                        <h4 style="min-width: 100px;">Strength Increases:</h4>
                        <input type="number" style="height:15px;width:25px" class="hiddenSheet centered" name="attr_defenceStrengthAntagonist" value="0">
                    </div>
                    <div class="antagonist_passive_grid" style="display:flex; flex-direction: column;">
                        <textarea spellcheck='false' autocorrect='off' name="attr_active_prefix" class="activeTextareaAntagonist" style="width:98%;height:60px;margin-bottom:5px;margin-top:5px;font-size: 10pt;line-height: 14px;" placeholder="Defence Effect"></textarea>

                    </div>
                </div>
                <div name="Active WAR" class="lowerPage__cell" style="width: 375px !important;margin-top: 10px;width: 439px !important; margin-top: 10px;">
                    <div class="activeColumnTitleAntagonist" style="width: 424px;">
                        <h1 class="header" style="line-height:38px;font-size: 15pt;width: 145px;">Attacks</h1>
                    </div>
                    <div class="activeWARDouble" style="width: 400px; margin-left: 12px;">
                        <fieldset class="repeating_warantagonist" style="grid-area:a; width:80%">
                            <input type="hidden" class="activeType" name="attr_active_name" value="" />
                            <div class="repeating_warAntagonist">
                                <div class="activeWarShellSmallDoubleAntagonist">
                                    <div class="activeGridDoubleAntagonist passiveTitle">
                                        <div class="activeWARNameAntagonist">
                                            <span style="width:35px"></span>
                                            <input type="text" name="attr_active_slot" style="font-size: 17pt !important;padding-bottom: 7px;padding-top: 0px !important;width:100%" value="New Attack (Click to open)" class="header
                                                    passiveTitleFlex activeWARNameDouble" readonly="true" />
                                            <button type="action" name="act_antagonistattack" class="antButton">w</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="activetab_containerNewAntagonist" style="display:flex; flex-direction:column;margin-top:0px">
                                    <div style="display:flex">
                                        <h4 style="font-size: 9pt;">Name: </h4>
                                        <input type="text" name="attr_active_name_input" value="" placeholder="Attack Name" class="hiddenSheet" style="font-size:13px;width: 130px;">
                                        <h4 style="font-size: 9pt;height: 14px;margin-left:3px">Range: </h4>
                                        <select type="text" class="hiddenSheet activeSelect" name="attr_active_shapetwo">
                                            <option value="Short">Melee</option>
                                            <option value="Medium">Medium 3-5</option>
                                            <option value="Long">Long 4-8</option>
                                        </select>
                                        <h4 style="font-size: 9pt; min-width: 91px;">Strength Increases: </h4>
                                        <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_increases" value="0">
                                    </div>
                                    <div style="display:flex;justify-content: space-between; padding-right: 2px;">
                                        <div style="display:flex">
                                            <h4 style="font-size: 9pt;">Damage: </h4>
                                            <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_damage" value="0">
                                        </div>
                                        <div style="display:flex">
                                            <h4 style="font-size: 9pt;">Offence: </h4>
                                            <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_offence" value="0">
                                        </div>
                                        <div style="display:flex">
                                            <h4 style="font-size: 9pt;">Manipulation: </h4>
                                            <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_manipulation" value="0">
                                        </div>
                                        <div style="display:flex">
                                            <h4 style="font-size: 9pt; min-width: 71px;">Roll Modifier: </h4>
                                            <input type="number" style="width:20px;" class="hiddenSheet centered" name="attr_action_shards" value="0">
                                        </div>
                                    </div>
                                    <div style="display:flex">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_active_effort" class="activeTextareaAntagonist" style="height: 33px; margin-top: 2px; margin-bottom: 0px; font-size: 10pt; line-height: 14px;" placeholder="Effort"></textarea>
                                    </div>
                                    <div style="display:flex">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_active_prefix" class="activeTextareaAntagonist" style="height: 33px; margin-top: 2px; margin-bottom: 0px; font-size: 10pt; line-height: 14px;" placeholder="Effect"></textarea>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>

            <div style="position: absolute; right: 15px; top: 7px;display: flex;">
                <h1 style="font-size:10pt">Antagonist:</h1>
                <input class="test" type="checkbox" name="attr_antagonist_flag" value="1" style="margin-left: 9px;">
            </div>
        </div>

    </div>
</div>

<!--Popup Section-->
<div name="manifestationsPopup" id="manifestationEffect" class="overlay">
    <a href="#" class="clickToClose"></a>
    <input type="hidden" class="legacy" name="attr_legacy" value="None" />
    <div class="popupManifestations">
        <div class="manifestationsShell">
            <input type="hidden" class="legacy" name="attr_legacy" value="None" />
            <input type="hidden" class="legacy" name="attr_manifestation_name" value="Please Select a Manifestation" />
            <div class="passiveFlex passiveTitle">
                <div style="min-width: 25px;"></div>
                <input type="text" name="attr_manifestation_name_field" value="@{manifestation_name}" class="manifestationName" disabled="true" />
                <a class="close" href="#">&times;</a>
            </div>
            <div class="elementalist">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create, shape and manipulate small amount of Fire, Earth, Water, Ice, and Storm (Air&Thunder).
                    <br>These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in all of the following Hazardous zones: Extreme Snowfall, Scorching heat, Sub-zero, Volcano and Geyser
                    <br>You have a companion. You can choose from the following species: Archon
                    <br>The companion can not be a Dark, Light or Chaos Archon
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing you remove a single Condition, Trauma, Torment or Paresis Emergency from yourself and every Squadmate within your Detection Range
                    <br>While Imbued whenever any target or yourself makes an Overwhelming attack within your Detection Range you restore a single Aetheric Energy
                    <br>This can be triggered a maximum of once per Round
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    Whenever you spend an Aetheric Energy you create a temporary companion of any element. This companion dies at the end of your turn. While not under Duress the temporary Companion lasts for 10 minutes
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    You gain a single Aetheric Energy the moment you use your Imbue and while Imbued you can use any Utility power's per day use without using the charge. Each Power can only be used once
                    <br>The first attack roll after using a Utility Power is automatically an Overwhelming roll
                </p>
            </div>
            <div class="luminous">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create, shape and manipulate small objects that shine light or shed darkness. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in all of the following Hazardous zones: Gravity (all), Meteorological Anomaly, Radiation or Unfetterered Sunlight
                    <br>Every WAR gains either a single Primary Shard or 2 Secondary Shards, every WAR is chosen separately
                    <br>You have acces to Lumokinesis
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing you create an immobile floating ball within your Detection range. This ball sheds Poor Light, or reduces the light to Low Light, in an Aura equal to your Detection Range
                    <br>While Imbued increase maximum Stamina by 1
                    <br>Whenever a squadmate or yourself uses Aetheric Energy against a target within your Detection range you recover 2 stamina, this cannot bring your Stamina above the maximum value
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    You can designate a single WAR as your Signature WAR.
                    <br>Once per Round on your own turn or in between turns you can use this WAR free of cost.
                    <br>No WAR Power or Effort can be applied to this use.
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued the ball you create is empowered and now does both effects, granting you and all Squadmates the benefits of Normal Light and all Antagonists the penalty of Low Light
                    <br>Whenever a Squadmate within your Detection Range or yourself spends an Aetheric Energy on any Action you recover 3 Stamina, this cannot bring your Stamina above the maximum value
                </p>
            </div>
            <div class="enhancerP">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create or adjust minor physical features of your own body. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in three Hazardous zones of your choice
                    <br>You gain the Kinaethetic Mind Type and double the bonuses from any other Body and Mind Type
                    <br>Access to the Biofeedback Enhancements
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing you fully recover Shielding and up to half of your maximum Hit points
                    <br>While Imbued whenever any Squadmate successfully grants you a boon or you are the target of a Mishap, Condition or Medical Emergency you gain a single use of your Biofeedback
                    <br>This use of Biofeedback is not considered at full strength
                    <br>This can be triggered a maximum of once per Round
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    Choose either Durability, Vitality or Agility and choose either Acuity, Nerve, Essence, Comprehension or Discernment
                    <br>The two chosen ADVANCED statistics count as twice the value for all effects based on ADVANCED statistics. This effect is allowed to bring a statistic above 10.
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued the free use of your Biofeedback is considered to be at full strength and your normal uses of Biofeedback gain the strength they would have had were you not under Duress
                    <br>You can choose to forgoe the bonus use of Biofeedback when a Boon is applied to you to apply the Boon to a single other Squadmate within your Detection Range
                </p>
            </div>
            <div class="enhancerS">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create or adjust minor physical features of your own body. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in three Hazardous zones of your choice
                    <br>You gain access to Spirit Bonds and start with a single Bond
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon imbuing you grant all Squadmates within your Detection Range and yourself 10 Stamina. Any Stamina that would be above a target's maximum value is lost, however that target fully replenishes their Shielding
                    <br>While Imbued you and any Squadmate within your Detection Range recover 2 Hit Points for each Effort spent on attack rolls or prevent 2 Damage to Hit Points for every Effort spent on defence rolls
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    When activating your Bond you can spend an Aetheric Energy to allow the Bond to be used a second time before needing a Long Rest. The second use of the Bond will be at a dimished capacity
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued the extra benefit from Effort is increased by 1 and Overwhelming rolls by yourself or any Squadmate within your Detection Range causes you and all Squadmates within your Detection Range to immediately recover 1 Stamina
                </p>
            </div>
            <div class="enhancerT">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create or adjust minor physical features of your own body. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in three Hazardous zones of your choice
                    <br>You gain access to Bionics and start with a single Bionic body part
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing yourself you grant yourself and every Squadmate a single temporary Aetheric Energy, this Energy can go above the characters maximum and is lost at the end of the Encounter
                    <br>While imbued you and each squadmate within your Detection range reduce the roll required for an Overwhelming roll by 1.
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    Containers within your Bionics gain an additional slot per Levelling Stage
                    <br>During a Short Rest you can increase the Duration of any Item with a Duration by 1 Scene or Replenish a single charge from an item containing charges
                    <br>Both effects can only be applied once to each item
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued you can overcharge a single Bionic, granting a much greater benefit
                    <br>Any Aetheric Energy that is used by yourself or any Squadmate within your Detection Range counts as if two Aetheric Energy was used
                </p>
            </div>
            <div class="exemplarG">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create, shape and manipulate small mechanical and electrical objects. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in three Hazardous zones of your choice
                    <br>You have a Geminae.
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing your Geminae and yourself burst with energy, Restoring 50% of your maximum Hit Points to all squadmates and yourself within your Detection range. Any Antanganist adjacent to yourself, your Geminae or a squadmate takes 10 Direct damage.
                    <br>While imbued your Geminae receives the same number of Hit Points as yourself. These Hit Points are reduced before your own and healing either of you recovers the amount from both pools
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    You have a second Geminae
                    <br>This means all attack rolls are made 3 times and you add the Damage of the WAR 3 times
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued whenever you or a Squadmate within your Detection Range spends an Aetheric Energy your next attack roll is automatically Overwhelming. This can only happen once per turn
                </p>
            </div>
            <div class="exemplarD">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create, shape and manipulate small mechanical and electrical objects. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in three Hazardous zones of your choice
                    <br>You can create up to 2 Signum within your Detection range.
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing you immediately create 2 Attacking Signum and 2 Healing Signum in any Hex within your Detection Range
                    <br>While Imbued you can have 6 Signum active at one time and whenever you or any Squadmate within your Detection Range suffers from an Underwhelming Defence roll all of your Signum are activated
                    <br>This can happen a maximum of once per Round
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    Increase number of Signum allowed at once by 1 and during Imbue by 1
                    <br>Increase the range of the Attacker and Healer Signum by 5 and the range of the Defence Signum by 2
                    <br>Increase all Signum values by 1 and they can survive an additional attack. During an attack 2 Effort instead of 1 can be spent to outright destroy a Signum
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    While Imbued you empower your Signum. Your Attacking and Healing Signum now activate twice at the end of your turn or whenever you or a Squadmate roll an
                    Underwhelming or Overwhelming roll and your Defence Signum increases Defence values by 1
                </p>
            </div>
            <div class="gaia">
                <h3 class="stanceWidth">Soul Infusing:</h3>
                <p style="font-size: 9pt;">
                    You can create, shape and manipulate small Flora and Fauna. These effects are purely meant for Roleplaying and serve no Purpose in Combat.
                    <br>You gain a +1 Fortitude bonus in all of the following Hazardous zones: Thin Atmosphere, Geological Instability, Unstable Mountainside and Subterranean (all)
                    <br>You have a companion. You can choose from the following species: Beast, Plantae or Dragon
                </p>
                <h3 class="stanceWidth">Imbue:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing all Antagonists within your Detection Range suffer the Restrained Mishap
                    <br>Whenever you use a WAR Power your companion also uses the Power or vice versa
                </p>
                <h3 class="stanceWidth">Divergence:</h3>
                <p style="font-size: 9pt;">
                    Whenever you use a Power on a target all Companions and all Attacker Signum within your Detection range can make a free attack against the target
                </p>
                <h3 class="stanceWidth">Avatar:</h3>
                <p style="font-size: 9pt;">
                    Upon Imbuing all Antagonists within your Detection Range suffer the Paralyzed Condition or the Unconscious Condition, their choice.
                    While Imbued both you and your companion do not roll an additional die for underwhelming results and attacks using a WAR Power reduce the die result required for an Overwhelming result by 1
                </p>
            </div>
        </div>
    </div>
</div>

<div name="characteristicsPopup" id="characteristics" class="overlay">
    <a href="#" class="clickToClose"></a>
    <div class="popupCharacteristics">
        <div class="characteristicsShell">
            <div class="passiveFlex passiveTitle">
                <div style="min-width: 25px;"></div>
                <input spellcheck='false' autocorrect='off' type="text" name="attr_stance_name_field" value="Characteristics" class="stanceName" disabled="true" />
                <a class="close" href="#">&times;</a>
            </div>
            <div class="characteristicsShellInner">
                <div class="characteristicsShellADVANCED bordered">
                    <div style="grid-area: title;">
                        <div class="largeTitle" style="height:40px; width:100%">
                            <h1 class="header" style="line-height:35px;font-size:27pt">ADVANCED</h1>
                        </div>
                    </div>
                    <div class="bordered advancedJustify" style="grid-area: body;">
                        <div class="title">Body</div>
                        <select class="hiddenSheet bodySelect" name="attr_body">
                            <option value="0" selected>Choose</option>
                            <option value="1">Ectomorph</option>
                            <option value="2">Endomorph</option>
                            <option value="3">Mesomorph</option>
                        </select>
                    </div>
                    <input type="hidden" name="attr_body" value="0" class="bodyToggle">
                    <div class="bordered advancedJustify" style="grid-area: mind;">
                        <div class="title">Mind</div>
                        <select class="hiddenSheet bodySelect" style="grid-area: e;" name="attr_mind">
                            <option value="0" selected>Choose</option>
                            <option value="1">Intrapersonal</option>
                            <option value="2">Interpersonal</option>
                            <option value="3">Kinaesthetic</option>
                            <option value="4">Logical</option>
                            <option value="5">Spatial</option>
                        </select>
                    </div>
                    <input type="hidden" name="attr_mind" value="0" class="mindToggle">
                    <div name="shell" class="bordered advancedJustify" style="grid-area: acuity;padding-bottom: 5px">
                        <div class="centertitle stamina1">Acuity</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_acuity" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: vitality;padding-bottom: 5px">
                        <div class="centertitle stamina1">Vitality</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_vitality" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: nerve;padding-bottom: 5px">
                        <div class="centertitle stamina1">Nerve</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_nerve" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: essence;padding-bottom: 5px;">
                        <div class="centertitle stamina1">Essence</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_essence" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: durability;padding-bottom: 5px">
                        <div class="centertitle stamina1">Durability</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_durability" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: agility;padding-bottom: 5px">
                        <div class="centertitle stamina1">Agility</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_agility" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: comprehension;padding-bottom: 5px">
                        <div class="centertitle stamina1">Comprehension</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_comprehension" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                    <div name="shell" class="bordered advancedJustify" style="grid-area: discernment;padding-bottom: 5px">
                        <div class="centertitle stamina1">Discernment</div>
                        <div style="display:flex">
                            <div style="width:52px"></div>
                            <input type="number" min="0" max="10" name="attr_discernment" value="0" class="currentStamina advancedShell centered">
                        </div>
                    </div>
                </div>
                <div class="characteristicsShellRightSide bordered">
                    <div style="grid-area: title; margin-right: -5px !important; margin-left: -5px !important;">
                        <div class="largeTitle" style="height:41px !important; width:100%">
                            <h1 class="header" style="line-height:35px;font-size:27pt">Background</h1>
                        </div>
                    </div>
                    <h3>Birthright:</h3>
                    <select class="hiddenSheet manifestation" name="attr_birthright" style="width:95%">
                        <option value="None" selected>Select One</option>
                        <option value="Aetheric">Aetheric</option>
                        <option value="Gifted">Gifted</option>
                        <option value="Open">Open Minded</option>
                        <option value="Skilled">Skilled</option>
                        <option value="Specialised">Specialised</option>
                    </select>
                    <h3>Home Terrain:</h3>
                    <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterTerrain" name="attr_character_terrain" autocomplete="nope">
                    <h3>Acclimated Hazard:</h3>
                    <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterHazard" name="attr_character_hazard" autocomplete="nope">
                    <h3 style="align-self: center;">Languages:</h3>
                    <textarea spellcheck='false' autocorrect='off' name="attr_languages" class="activeTextarea" style="height: 64px; margin-left: 5px; width: 96% !important;" placeholder="Languages"></textarea>
                    <h3 style="align-self: center;">Purpose:</h3>
                    <textarea spellcheck='false' autocorrect='off' name="attr_purpose" class="activeTextarea" style="height: 64px; margin-left: 5px; width: 96% !important;" placeholder="What is the purpose of your existance? Why did you get intoadventuring?"></textarea>
                    <h3 style="align-self: center;">Goals:</h3>
                    <textarea spellcheck='false' autocorrect='off' name="attr_goals" class="activeTextarea" style="height: 64px; margin-left: 5px; width: 96% !important;" placeholder="What do you want to acheive in your life?"></textarea>
                    <h3 style="align-self: center;">Bonds:</h3>
                    <textarea spellcheck='false' autocorrect='off' name="attr_bonds" class="activeTextarea" style="height: 64px; margin-left: 5px; width: 96% !important;" placeholder="Who or what do you hold dear and why?"></textarea>
                    <h3 style="align-self: center;">Linked Soul:</h3>
                    <textarea spellcheck='false' autocorrect='off' name="attr_linkedSoul" class="activeTextarea" style="height: 64px; margin-left: 5px; width: 96% !important;" placeholder="Who's soul is linked to your own? Why are they linked? Is it fate, or maybe someone you have to stop at all costs?"></textarea>
                </div>
            </div>
            <div style="display: flex;justify-content: flex-end;margin-right: 10px;padding-bottom: 2px;margin-top: -5px;">
                <h1 style="font-size:10pt">Shorthand Rolls:</h1>
                <input class="test" type="checkbox" name="attr_shorthand" value="1" style="margin-left: 9px;">
            </div>
            <div style="display: flex;justify-content: flex-end;margin-right: 10px;padding-bottom: 2px;margin-top: -5px;">
                <h1 style="font-size:10pt">Antagonist:</h1>
                <input class="test" type="checkbox" name="attr_antagonist_flag" value="1" style="margin-left: 9px;">
            </div>
        </div>
    </div>
</div>

<div name="equipmentPopup" id="equipment" class="overlay">
    <a href="#" class="clickToClose"></a>
    <div class="popupEquipment">

        <div class="popupEquipmentUpper">
            <div class="equipmentShellUpper">
                <div name="equipment" class="passiveFlex passiveTitle">
                    <h2 class="header passiveTitleFlex" style="line-height: 30px">Equipment</h2>
                </div>
                <div style="display:flex">
                    <div style="width: 578px;">
                        <select type="text" style="grid-area:c" class="hiddenSheet genderSelect" name="attr_gender_type">
                            <option value="Male" selected>Male</option>
                            <option value="Female">Female</option>
                            <option value="Genderless">Genderless</option>
                        </select>
                        <input type="hidden" name="attr_gender_type" class="genderSelect" value="Male">
                        <img class="bodyImage bodyMale" src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/86f4b61f-2285-4e4c-a71a-b491cbd4ad53/d1y2zdr-62d36b15-a50e-4229-b96d-5fc1baedefd7.jpg/v1/fill/w_1024,h_1583,q_75,strp/male_character_pose_1_by_one_with_no_color_d1y2zdr-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTU4MyIsInBhdGgiOiJcL2ZcLzg2ZjRiNjFmLTIyODUtNGU0Yy1hNzFhLWI0OTFjYmQ0YWQ1M1wvZDF5Mnpkci02MmQzNmIxNS1hNTBlLTQyMjktYjk2ZC01ZmMxYmFlZGVmZDcuanBnIiwid2lkdGgiOiI8PTEwMjQifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.EOwnDmhILLwfWPijZ9fnAtE_OZfJaLvKZAy8aFND9DU" alt="Male Body">
                        <img class="bodyImage bodyFemale" src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/86f4b61f-2285-4e4c-a71a-b491cbd4ad53/d1xu0rd-5f35c561-cbbc-42d8-9196-11a87f7af455.jpg/v1/fill/w_1024,h_1583,q_75,strp/character_pose_1_by_one_with_no_color_d1xu0rd-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTU4MyIsInBhdGgiOiJcL2ZcLzg2ZjRiNjFmLTIyODUtNGU0Yy1hNzFhLWI0OTFjYmQ0YWQ1M1wvZDF4dTByZC01ZjM1YzU2MS1jYmJjLTQyZDgtOTE5Ni0xMWE4N2Y3YWY0NTUuanBnIiwid2lkdGgiOiI8PTEwMjQifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.9-chTmigyvpmY4pfwHcugd251OUnge82AS_MqhsLa9I" alt="Female Body">
                        <img class="bodyImage bodyGenderless" src="https://t4.ftcdn.net/jpg/04/26/78/25/360_F_426782522_OkzYnAZSzJXE6XmX03tHwrjgtOk2ONzd.jpg" alt="Genderless Body">
                        <div class="equipmentShell headEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_head_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_head_value" value="Poor" class="headContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_head_equipment" value="" class="equipmentInput" placeholder="Head Slot">
                            <div class="headIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_head_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_head_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_head_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_head_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="headIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_charges_head_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_charges_head_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell backEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_backValue">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor">Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential" selected>Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_back_value" value="Poor" class="backContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_back_equipment" value="" class="equipmentInput" placeholder="Back Slot">
                            <div class="backIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_back_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_back_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_back_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_back_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="backIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_charges_back_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_charges_back_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell torsoEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_torso_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_torso_value" value="Poor" class="torsoContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_torso_equipment" value="" class="equipmentInput" placeholder="Torso Slot">
                            <div class="torsoIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_torso_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_torso_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_torso_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_torso_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="torsoIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_charges_torso_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_charges_torso_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell armEquipmentOne">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_arm_one_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_arm_one_value" value="Poor" class="armOneContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_arm_equipment_one" value="" class="equipmentInput" placeholder="Arm Slot 1">
                            <div class="armOneIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_arm_one_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_arm_one_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_arm_one_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_arm_one_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="armOneIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_arm_one_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_arm_one_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell armEquipmentTwo">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_arm_two_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic2">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_arm_two_value" value="Poor" class="armTwoContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_arm_equipment_two" value="" class="equipmentInput" placeholder="Arm Slot 2">
                            <div class="armTwoIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_arm_two_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_arm_two_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_arm_two_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_arm_two_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="armTwoIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_arm_two_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_arm_two_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell hipEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_hip_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic2">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_hip_value" value="Poor" class="hipContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_hip_equipment" value="" class="equipmentInput" placeholder="Hip Slot">
                            <div class="hipIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_hip_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_hip_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_hip_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_hip_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="hipIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_hip_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_hip_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell legEquipmentOne">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_leg_one_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_leg_one_value" value="Poor" class="legOneContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_leg_equipment_one" value="" class="equipmentInput" placeholder="Leg Slot 1">
                            <div class="legOneIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_leg_one_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_leg_one_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_leg_one_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_leg_one_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="legOneIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_leg_one_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_leg_one_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell legEquipmentTwo">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_leg_two_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_leg_two_value" value="Poor" class="legTwoContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_leg_equipment_two" value="" class="equipmentInput" placeholder="Leg Slot 2">
                            <div class="legTwoIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_leg_two_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_leg_two_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_leg_two_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_leg_two_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="legTwoIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_leg_two_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_leg_two_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell feetEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_feet_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_feet_value" value="Poor" class="feetContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_feet_equipment" value="" class="equipmentInput" placeholder="Feet Slot">
                            <div class="feetIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_feet_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_feet_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_feet_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_feet_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="feetIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_feet_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_feet_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="equipmentShell fullBodyEquipment">
                            <select type="text" style="grid-area:c" class="hiddenSheet valueSelect" name="attr_full_body_value">
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Containers</option>
                                <option value="Poor" selected>Poor</option>
                                <option value="Basic">Basic</option>
                                <option value="Common">Common</option>
                                <option value="Premium">Premium</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Stellar">Stellar</option>
                                <option disabled style="background:gray;font-weight:bold;color:white;">&nbsp;&nbsp;&nbsp;&nbsp; Items</option>
                                <option value="Inconsequential">Inconsequential</option>
                                <option value="Basic2">Basic</option>
                                <option value="Mediocre">Mediocre</option>
                                <option value="Average">Average</option>
                                <option value="Refined">Refined</option>
                                <option value="Exceptional">Exceptional</option>
                                <option value="Superior">Superior</option>
                                <option value="Legendary">Legendary</option>
                                <option value="Artifact">Artifact</option>
                            </select>
                            <input type="hidden" name="attr_full_body_value" value="Poor" class="bodyContainer">
                            <input spellcheck='false' autocorrect='off' type="text" name="attr_full_body_equipment" value="" class="equipmentInput" placeholder="Suit / Full Body Slot">
                            <div class="bodyIsContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Slots</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_body_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_body_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Min/Max Strength</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="text" name="attr_current_strength_body_equipment" value="" class="minMaxStrength">
                                        <h3>/</h3>
                                        <input type="text" name="attr_max_strength_body_equipment" value="" class="minMaxStrength">
                                    </div>
                                </div>
                            </div>
                            <div class="bodyIsNotContainer">
                                <div class="equipmentCharges">
                                    <h3 style="line-height: 10px; font-size: 8pt;">Charges</h3>
                                    <div style="display: flex; height: 14px;">
                                        <input type="number" name="attr_current_slots_body_equipment" value="" class="chargesAmount">
                                        <h3>/</h3>
                                        <input type="number" name="attr_max_slots_body_equipment" value="" class="chargesAmount">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="equipmentShellLower">
                        <div name="equipment" class="passiveFlex passiveTitle">
                            <h2 class="header passiveTitleFlex" style="line-height: 30px">Loose Equipment</h2>
                        </div>
                        <div style="overflow-y: scroll;height: 338px;border-bottom: 1px solid black;background-image: url(http://imgur.com/Z4ti7rM.png);">
                            <fieldset class="repeating_equipment">
                                <div name="itemOne" class="looseEquipment">
                                    <div class="looseEquipmentShell">
                                        <select type="text" class="hiddenSheet valueSelect" name="attr_item_one_value" style="font-size: 7pt;">
                                            <optgroup label="Containers">
                                                <option value="Poor" selected>Poor</option>
                                                <option value="Basic">Basic</option>
                                                <option value="Common">Common</option>
                                                <option value="Premium">Premium</option>
                                                <option value="Excellent">Excellent</option>
                                                <option value="Stellar">Stellar</option>
                                            </optgroup>
                                            <optgroup label="Items">
                                                <option value="Inconsequential" selected>Inconsequential</option>
                                                <option value="Basic">Basic</option>
                                                <option value="Mediocre">Mediocre</option>
                                                <option value="Average">Average</option>
                                                <option value="Refined">Refined</option>
                                                <option value="Exceptional">Exceptional</option>
                                                <option value="Superior">Superior</option>
                                                <option value="Legendary">Legendary</option>
                                                <option value="Artifact">Artifact</option>
                                            </optgroup>
                                        </select>
                                        <input spellcheck='false' autocorrect='off' type="text" name="attr_full_body_equipment" value="" class="equipmentInput" placeholder="item" style="margin-top: 5px; width: 99px;">
                                        <select type="text" class="hiddenSheet valueSelect" name="attr_item_one_slot_type" style="font-size: 7pt;">
                                            <option value="Single" selected>Single</option>
                                            <option value="Permanent">Permanent</option>
                                            <option value="Duration">Duration</option>
                                            <option value="Charged">Charged</option>
                                        </select>
                                    </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div name="bionicsPopup" id="bionics" class="overlay">
    <a href="#" class="clickToClose"></a>
    <div class="popupEquipment">

        <div class="popupEquipmentUpper">
            <div class="equipmentShellUpper">
                <div name="equipment" class="passiveFlex passiveTitle">
                    <h2 class="header passiveTitleFlex" style="line-height: 30px">Bionics</h2>
                </div>
                <div style="display:flex">
                    <div name="picture and names" style="width: 578px;">
                        <select type="text" style="grid-area:c" class="hiddenSheet genderSelect" name="attr_gender_type">
                            <option value="Male" selected>Male</option>
                            <option value="Female">Female</option>
                            <option value="Genderless">Genderless</option>
                        </select>
                        <input type="hidden" name="attr_gender_type" class="genderSelect" value="Male">
                        <img class="bodyImage bodyMale" src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/86f4b61f-2285-4e4c-a71a-b491cbd4ad53/d1y2zdr-62d36b15-a50e-4229-b96d-5fc1baedefd7.jpg/v1/fill/w_1024,h_1583,q_75,strp/male_character_pose_1_by_one_with_no_color_d1y2zdr-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTU4MyIsInBhdGgiOiJcL2ZcLzg2ZjRiNjFmLTIyODUtNGU0Yy1hNzFhLWI0OTFjYmQ0YWQ1M1wvZDF5Mnpkci02MmQzNmIxNS1hNTBlLTQyMjktYjk2ZC01ZmMxYmFlZGVmZDcuanBnIiwid2lkdGgiOiI8PTEwMjQifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.EOwnDmhILLwfWPijZ9fnAtE_OZfJaLvKZAy8aFND9DU" alt="Male Body">
                        <img class="bodyImage bodyFemale" src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/86f4b61f-2285-4e4c-a71a-b491cbd4ad53/d1xu0rd-5f35c561-cbbc-42d8-9196-11a87f7af455.jpg/v1/fill/w_1024,h_1583,q_75,strp/character_pose_1_by_one_with_no_color_d1xu0rd-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTU4MyIsInBhdGgiOiJcL2ZcLzg2ZjRiNjFmLTIyODUtNGU0Yy1hNzFhLWI0OTFjYmQ0YWQ1M1wvZDF4dTByZC01ZjM1YzU2MS1jYmJjLTQyZDgtOTE5Ni0xMWE4N2Y3YWY0NTUuanBnIiwid2lkdGgiOiI8PTEwMjQifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.9-chTmigyvpmY4pfwHcugd251OUnge82AS_MqhsLa9I" alt="Female Body">
                        <img class="bodyImage bodyGenderless" src="https://t4.ftcdn.net/jpg/04/26/78/25/360_F_426782522_OkzYnAZSzJXE6XmX03tHwrjgtOk2ONzd.jpg" alt="Genderless Body">
                        <div class="equipmentShell cnsBionics">
                            <h1>Central Nervous System Bionics:</h1>
                            <input type="text" name="attr_cns_bionics_name" class="bionicsInput" style="width: 195px !important;" placeholder="CNS Name">
                        </div>
                        <div class="equipmentShell pnsBionics">
                            <h1>Peripheral Nervous System Bionics:</h1>
                            <input type="text" name="attr_pns_bionics_name" class="bionicsInput" style="width: 172px !important;" placeholder="PNS Name">
                        </div>
                        <div class="equipmentShell csBionics">
                            <h1>Circulatory System Bionics:</h1>
                            <input type="text" name="attr_cs_bionics_name" class="bionicsInput" style="width: 195px !important;" placeholder="Circulatory System Name">
                        </div>
                        <div class="equipmentShell structuralBionics">
                            <h1>Structural Bionics:</h1>
                            <input type="text" name="attr_structural_bionics_name" class="bionicsInput" style="width: 195px !important;" placeholder="Structural Name">
                        </div>
                        <div class="equipmentShell armtoggleBionics">
                            <h4>Separate Arms:</h4>
                            <input type="checkbox" class="hiddenSheet centered armToggle" name="attr_arm_toggle" value="1">
                        </div>
                        <input type="hidden" name="attr_arm_toggle" value="" class="arm_toggle">
                        <div class="both_arms">
                            <div class="equipmentShell larmBionics">
                                <h1>Left Arm Bionics:</h1>
                                <input type="text" name="attr_larm_bionics_name" class="bionicsInput" style="width: 257px !important;" placeholder="Left Arm Name">
                            </div>
                            <div class="equipmentShell rarmBionics">
                                <h1>Right Arm Bionics:</h1>
                                <input type="text" name="attr_rarm_bionics_name" class="bionicsInput" style="width: 245px !important;" placeholder="Right Arm Name">
                            </div>
                        </div>
                        <input type="hidden" name="attr_arm_toggle" value="" class="arm_toggle">
                        <div class="double_arms">
                            <div class="equipmentShell bothBionics">
                                <h1>Both Arm Bionics:</h1>
                                <input type="text" name="attr_barm_bionics_name" class="bionicsInput" style="width: 250px !important;" placeholder="Both Arm Name">
                            </div>
                        </div>
                        <div class="equipmentShell legsBionics">
                            <h1>Legs Bionics:</h1>
                            <input type="text" name="attr_legs_bionics_name" class="bionicsInput" style="width: 295px !important;" placeholder="Legs Name">
                        </div>
                    </div>
                    <div class="equipmentShellLower">
                        <div name="equipment" class="passiveFlex passiveTitle">
                            <h2 class="header passiveTitleFlex" style="line-height: 30px">Active Bionics</h2>
                        </div>
                        <div style="overflow-y: scroll;height: 360px;border-bottom: 1px solid black;position: relative;background-image: url(http://imgur.com/Z4ti7rM.png);">
                            <input type="hidden" name="attr_pns_bionics_name" value="" class="pns_toggle">
                            <div name="cns bionic" class="pns_bionics_description" style="margin-top:2px">
                                <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                    <summary>
                                        <div class="blessingsFlex">
                                            <h4 class="header bionicsClick"></h4>
                                            <input type="text" name="attr_pns_name_title" value="@{pns_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                        </div>
                                    </summary>
                                    <div style="display:flex; justify-content: center;">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_pns_description" class="bionicsDescription" placeholder="Description"></textarea>
                                    </div>
                                </details>
                            </div>
                            <input type="hidden" name="attr_cns_bionics_name" value="" class="cns_toggle">
                            <div name="cns bionic" class="cns_bionics_description" style="margin-top:2px">
                                <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                    <summary>
                                        <div class="blessingsFlex">
                                            <h4 class="header bionicsClick"></h4>
                                            <input type="text" name="attr_cns_name_title" value="@{cns_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                        </div>
                                    </summary>
                                    <div style="display:flex; justify-content: center;">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_cns_description" class="bionicsDescription" placeholder="Description"></textarea>
                                    </div>
                                </details>
                            </div>
                            <input type="hidden" name="attr_cs_bionics_name" value="" class="cs_toggle">
                            <div name="cs bionic" class="cs_bionics_description" style="margin-top:2px">
                                <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                    <summary>
                                        <div class="blessingsFlex">
                                            <h4 class="header bionicsClick"></h4>
                                            <input type="text" name="attr_cs_name_title" value="@{cs_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                        </div>
                                    </summary>
                                    <div style="display:flex; justify-content: center;">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_cs_description" class="bionicsDescription" placeholder="Description"></textarea>
                                    </div>
                                </details>
                            </div>
                            <input type="hidden" name="attr_arm_toggle" value="" class="arm_toggle">
                            <div class="both_arms">
                                <input type="hidden" name="attr_larm_bionics_name" value="" class="larm_toggle">
                                <div name="larm bionic" class="larm_bionics_description" style="margin-top:2px">
                                    <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                        <summary>
                                            <div class="blessingsFlex">
                                                <h4 class="header bionicsClick"></h4>
                                                <input type="text" name="attr_larm_name_title" value="@{larm_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                            </div>
                                        </summary>
                                        <div style="display:flex; justify-content: center;">
                                            <textarea spellcheck='false' autocorrect='off' name="attr_larm_description" class="bionicsDescription" placeholder="Description"></textarea>
                                        </div>
                                    </details>
                                </div>
                                <input type="hidden" name="attr_rarm_bionics_name" value="" class="rarm_toggle">
                                <div name="rarm bionic" class="rarm_bionics_description" style="margin-top:2px">
                                    <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                        <summary>
                                            <div class="blessingsFlex">
                                                <h4 class="header bionicsClick"></h4>
                                                <input type="text" name="attr_rarm_name_title" value="@{rarm_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                            </div>
                                        </summary>
                                        <div style="display:flex; justify-content: center;">
                                            <textarea spellcheck='false' autocorrect='off' name="attr_rarm_description" class="bionicsDescription" placeholder="Description"></textarea>
                                        </div>
                                    </details>
                                </div>
                            </div>
                            <input type="hidden" name="attr_arm_toggle" value="" class="arm_toggle">
                            <div class="double_arms">
                                <input type="hidden" name="attr_barm_bionics_name" value="" class="barm_toggle">
                                <div name="barm bionic" class="barm_bionics_description" style="margin-top:2px">
                                    <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                        <summary>
                                            <div class="blessingsFlex">
                                                <h4 class="header bionicsClick"></h4>
                                                <input type="text" name="attr_barm_name_title" value="@{barm_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                            </div>
                                        </summary>
                                        <div style="display:flex; justify-content: center;">
                                            <textarea spellcheck='false' autocorrect='off' name="attr_barm_description" class="bionicsDescription" placeholder="Description"></textarea>
                                        </div>
                                    </details>
                                </div>
                            </div>
                            <input type="hidden" name="attr_legs_bionics_name" value="" class="legs_toggle">
                            <div name="legs bionic" class="legs_bionics_description" style="margin-top:2px">
                                <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                    <summary>
                                        <div class="blessingsFlex">
                                            <h4 class="header bionicsClick"></h4>
                                            <input type="text" name="attr_legs_name_title" value="@{legs_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                        </div>
                                    </summary>
                                    <div style="display:flex; justify-content: center;">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_legs_description" class="bionicsDescription" placeholder="Description"></textarea>
                                    </div>
                                </details>
                            </div>
                            <input type="hidden" name="attr_structural_bionics_name" value="" class="structural_toggle">
                            <div name="structural bionic" class="structural_bionics_description" style="margin-top:2px">
                                <details class="abilitySummary" style="border: 1px solid black; border-radius: 17px; margin-left: 4px; margin-right: 4px;">
                                    <summary>
                                        <div class="blessingsFlex">
                                            <h4 class="header bionicsClick"></h4>
                                            <input type="text" name="attr_structural_name_title" value="@{structural_bionics_name}" class="blessingsName" style="width: 312px !important; margin-right: -4px;" disabled="true" />
                                        </div>
                                    </summary>
                                    <div style="display:flex; justify-content: center;">
                                        <textarea spellcheck='false' autocorrect='off' name="attr_structural_description" class="bionicsDescription" placeholder="Description"></textarea>
                                    </div>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div name="adventurersToolkitPopup" id="toolkit" class="overlay">
    <a href="#" class="clickToClose"></a>
    <div class="popupToolkit">
        <div class="manifestationsShell" style="background: rgb(7, 16, 25);">
            <div class="passiveFlex passiveTitle">
                <div style="min-width: 25px;"></div>
                <input type="text" name="attr_manifestation_name_field" value="Adventurer's Toolkit" class="manifestationName" disabled="true" />
                <a class="close" href="#">&times;</a>
            </div>
            <div style="overflow-y: scroll;height: 338px;border-bottom: 1px solid black;background-image: url(http://imgur.com/Z4ti7rM.png);width: 98%; margin-bottom: 35px; margin-left: 2px !important;">
                <fieldset class="repeating_toolkit">
                    <input spellcheck='false' autocorrect='off' type="text" class="hiddenSheet characterNameAntagonist" name="attr_toolkit_name" autocomplete="nope" style="width:93% !important">
                    <select type="text" class="hiddenSheet valueSelect" name="attr_toolkit_knowledge" style="margin-top: -3px; font-size: 10pt; height: 18px;">
                        <option value="Basic" selected>Basic</option>
                        <option value="Learned">Learned</option>
                        <option value="Specialised">Specialised</option>
                    </select>
                    <input type="hidden" name="attr_toolkit_knowledge" value="Basic" />
                    <button type='roll' value='&{template:pursuit} {{name=@{character_name}}} {{version=@{toolkit_name}}} {{level=@{toolkit_knowledge}}} {{roll=[[1d10]]}} {{overwhelming=[[10+1d10]]}} {{underwhelming=[[1-1d10]]}} {{whelming=[[1d10]]}} {{difficulty=[[?{Challenge Level|0}]]}}' name='roll_adventurersToolkit' class="button pursuitButton" style="margin-right: 1px !important; margin-top: -5px; width: 22px !important; font-size: 20pt !important;"></button>
                </fieldset>
            </div>
        </div>
    </div>
</div>

<!--Script Section-->
<script type="text/worker">
    const staminaModifiers = ['hit_points_max_value', 'survival_passive_shards', 'aggravated_value', '_hit_points_one', '_hit_points_two', '_hit_points_three', '_hit_points_four', '_hit_points_five'];
    const staminaWatchstats = staminaModifiers.map(x => `change:${x}`).join(' ');
    const modifiers = ['shielding_shards', 'shielding_max_value', '_shielding', '_shielding_max'];
    const watchstats = modifiers.map(x => `change:${x}`).join(' ');
    const stammodifiers = ['stamina_max_value', '_stamina', '_stamina_max'];
    const watchstamina = stammodifiers.map(x => `change:${x}`).join(' ');

    const parseClickTrigger = function (string) {
        let match = string.match(/clicked:(?:(repeating_[^_]+)_([^_]+)_)?(.+)/);
        match.shift();
        return match;
    };

    on("change:vitality change:durability change:agility change:comprehension change:discernment change:essence change:nerve change:acuity", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        var stat = eventInfo.sourceAttribute;
        var v = +eventInfo.newValue || 0;
        var value = v < 0 ? 0 : v > 10 ? 10 : v;
        setAttrs({
            [stat]: value
        });
    });

    on("change:legacy", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        switch (eventInfo.newValue) {
            case "Luminous":
                output["manifestation_name"] = "Luminous";
                break;
            case "Elementalist":
                output["manifestation_name"] = "Elementalist";
                break;
            case "EnhancerP":
                output["manifestation_name"] = "Purist";
                break;
            case "EnhancerS":
                output["manifestation_name"] = "Spectre";
                break;
            case "EnhancerT":
                output["manifestation_name"] = "Technologist";
                break;
            case "ExemplarG":
                output["manifestation_name"] = "Genesis";
                break;
            case "ExemplarD":
                output["manifestation_name"] = "Dominus";
                break;
            case "Gaia":
                output["manifestation_name"] = "Gaia";
                break;
            default:
                output["manifestation_name"] = "Please Select a Manifestation";
                break;
        };
        setAttrs(output);
    });

    on("change:passive_type", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        switch (eventInfo.newValue) {
            case "1":
                output["defence_bonus"] = 1;
                output["resistance_bonus"] = 1;
                output["mitigation_bonus"] = 0;
                output["passive_type_effect"] = "Grants 1 free hex of movement per levelling stage after the current Attack is resolved.\nThis Movement does not trigger any effects or qualities that rely upon movement.";
                break;
            case "2":
                output["defence_bonus"] = 0;
                output["resistance_bonus"] = 0;
                output["mitigation_bonus"] = 0;
                output["passive_type_effect"] = "1 Free Effort on each Defence Action";
                break;
            case "3":
                output["defence_bonus"] = 0;
                output["resistance_bonus"] = 0;
                output["mitigation_bonus"] = 1;
                output["passive_type_effect"] = "Reduce any Damage type by 1 per levelling stage after any Multipliers";
                break;
            default:
                output["defence_bonus"] = 1;
                output["resistance_bonus"] = 1;
                output["mitigation_bonus"] = 0;
                output["passive_type_effect"] = "Grants 1 free hex of movement per levelling stage after the current Attack is resolved.\nThis Movement does not trigger any effects or qualities that rely upon movement.";
                break;
        };
        setAttrs(output);
    });

    on("change:repeating_war:active_type", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        switch (eventInfo.newValue) {
            case "1":
                output["repeating_war_active_damage_bonus"] = 2;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "1a":
                output["repeating_war_active_damage_bonus"] = 2;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "2":
                output["repeating_war_active_damage_bonus"] = 2;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "3":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 1;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 1;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "3a":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 1;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 1;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "4":
                output["repeating_war_active_damage_bonus"] = 2;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 3;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "5":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 1;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "5a":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 1;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "6":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 2;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            case "6a":
                output["repeating_war_active_damage_bonus"] = 0;
                output["repeating_war_active_healing_bonus"] = 2;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
            default:
                output["repeating_war_active_damage_bonus"] = 2;
                output["repeating_war_active_healing_bonus"] = 0;
                output["repeating_war_active_alleviation_bonus"] = 0;
                output["repeating_war_active_manipulation_bonus"] = 0;
                output["repeating_war_active_offence_bonus"] = 0;
                output["repeating_war_active_crescendo_bonus"] = 0;
                break;
        };
        setAttrs(output);
    });

    on("change:repeating_war:active_type", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        switch (eventInfo.newValue) {
            case "1":
                output["repeating_war_active_type_name"] = "Assault";
                break;
            case "2":
                output["repeating_war_active_type_name"] = "Keen";
                break;
            case "3":
                output["repeating_war_active_type_name"] = "Beneficial";
                break;
            case "4":
                output["repeating_war_active_type_name"] = "Crescendo";
                break;
            case "5":
                output["repeating_war_active_type_name"] = "Malicious";
                break;
            case "6":
                output["repeating_war_active_type_name"] = "Mending";
                break;
            case "7":
                output["repeating_war_active_type_name"] = "Penance";
                break;
            default:
                output["repeating_war_active_type_name"] = "Assault";
                break;
        };
        setAttrs(output);
    });

    on(`${staminaWatchstats} sheet:opened`, function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(staminaModifiers, function (values) {
            let statMax = 0;
            let source = eventInfo.sourceAttribute;
            staminaModifiers.forEach(function (stat) {
                if (stat === '_hit_points_one') return;
                if (stat === '_hit_points_two') return;
                if (stat === '_hit_points_three') return;
                if (stat === '_hit_points_four') return;
                if (stat === '_hit_points_five') return;
                let multiplier = 1;
                if (stat === 'survival_passive_shards') {
                    multiplier = 9;
                }
                if (stat === 'aggravated_value') {
                    multiplier = -1;
                }
                let change = parseInt(values[stat]) * multiplier;
                statMax += change;
            });
            statMax = statMax > 0 ? statMax : 0;
            let v = values["_hit_points_one"] || 0;
            output["_hit_points_one"] = v < 0 ? 0 : v > statMax ? statMax : v;
            v = values["_hit_points_two"] || 0;
            output["_hit_points_two"] = v < 0 ? 0 : v > statMax ? statMax : v;
            v = values["_hit_points_three"] || 0;
            output["_hit_points_three"] = v < 0 ? 0 : v > statMax ? statMax : v;
            v = values["_hit_points_four"] || 0;
            output["_hit_points_four"] = v < 0 ? 0 : v > statMax ? statMax : v;
            v = values["_hit_points_five"] || 0;
            output["_hit_points_five"] = v < 0 ? 0 : v > statMax ? statMax : v;
            output["_hit_points_max"] = statMax;
            setAttrs(output);
        });
    });

    on(`${watchstats} sheet:opened`, function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(modifiers, function (values) {
            let statMax = 0;
            let source = eventInfo.sourceAttribute;
            let v = values["_shielding"] || 0;
            modifiers.forEach(function (stat) {
                if (stat === '_shielding') return;
                if (stat === '_shielding_max') return;
                let change = 0;
                if (stat === 'shielding_shards') change = parseInt(values[stat]) * 3;
                else change = parseInt(values[stat]);
                statMax += change;
            });
            output["_shielding"] = v < 0 ? 0 : v > statMax ? statMax : v;
            output["_shielding_max"] = statMax;
            setAttrs(output);
        });
    });

    on(`${watchstamina} sheet:opened`, function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(stammodifiers, function (values) {
            let statMax = 0;
            let source = eventInfo.sourceAttribute;
            let v = values["_stamina"] || 0;
            stammodifiers.forEach(function (stat) {
                if (stat === '_stamina') return;
                if (stat === '_stamina_max') return;
                let change = 0;
                change = parseInt(values[stat]);
                statMax += change;
            });
            output["_stamina"] = v < 0 ? 0 : v > statMax ? statMax : v;
            output["_stamina_max"] = statMax;
            setAttrs(output);
        });
    });

    on("change:repeating_war:active_name_input", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(['repeating_war_active_name', 'repeating_war_active_slot', 'repeating_war_active_name_input'], function (values) {
            output["repeating_war_active_slot"] = eventInfo.newValue ? eventInfo.newValue : "Active WAR";
            output["repeating_war_active_name"] = eventInfo.newValue ? eventInfo.newValue : "Active WAR";
            setAttrs(output);
        });
    });

    on("change:repeating_warantagonist:active_name_input", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(['repeating_warantagonist_active_name', 'repeating_warantagonist_active_slot', 'repeating_war_antagonist_active_name_input'], function (values) {
            output["repeating_warantagonist_active_slot"] = eventInfo.newValue ? eventInfo.newValue : "Active WAR";
            output["repeating_warantagonist_active_name"] = eventInfo.newValue ? eventInfo.newValue : "Active WAR";
            setAttrs(output);
        });
    });

    on("change:repeating_ability:ability_name", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(['repeating_ability_ability_name', 'repeating_ability_ability_name_title'], function (values) {
            output["repeating_ability_ability_name_title"] = eventInfo.newValue ? eventInfo.newValue : "Unnamed Ability";
            setAttrs(output);
        });
    });

    on("change:repeating_qualities:quality_name_input", function (eventInfo) {
        if (eventInfo.sourceType === 'sheetworker') return;
        const output = {};
        getAttrs(['repeating_qualities_quality_name', 'repeating_qualities_quality_name_input'], function (values) {
            output["repeating_qualities_quality_name"] = eventInfo.newValue ? eventInfo.newValue : "Unnamed Quality";
            setAttrs(output);
        });
    });

    on('clicked:passive', (info) => {
        let choice = 0;
        let rollType = "&{template:empty} {{type=[[?{Type|Defence,[[1]]|Resistance,[[2]]}]]}}";
        let rollDefence = "&{template:defence} {{charactername=@{character_name}}} {{toggle=[[@{passive_flawed}]]}} {{name=Defence Roll}} {{typeeffect=@{passive_type_effect}}} {{modifier=[[@{passiveModifier}]]}} {{bonus=[[?{Roll Bonus|0}]]}} {{bonusdefence=[[(?{Defence Modifier|0})]]}} {{mitigation=[[@{mitigation}]]}} {{flaw=@{passive_flaw}}} {{baseRoll=[[0]]}} {{rollResult=[[0]]}} {{critical=[[0]]}} {{roll=[[1d10]]}} {{result=[[0]]}} {{whelming=[[1d10]]}} {{defence=[[@{defence}]]}} {{penalty=[[(?{Roll Penalty|0})]]}} {{finalResult=[[0]]}}";
        let rollResistance = "&{template:resistance} {{charactername=@{character_name}}} {{toggle=[[@{passive_flawed}]]}} {{name=Resistance Roll}} {{typeeffect=@{passive_type_effect}}} {{modifier=[[@{passiveModifier}]]}} {{bonus=[[?{Roll Bonus|0}]]}} {{bonusresistance=[[(?{Resistance Modifier|0})]]}} {{flaw=@{passive_flaw}}} {{baseRoll=[[0]]}} {{rollResult=[[0]]}} {{critical=[[0]]}} {{roll=[[1d10]]}} {{result=[[0]]}} {{whelming=[[1d10]]}} {{resistance=[[@{resistance}]]}} {{penalty=[[(?{Roll Penalty|0})]]}} {{finalResult=[[0]]}}";

        let typeRoll = startRoll(rollType, (results) => {
            choice = results.results.type.result;

            if (choice == 1) {
                startRoll(rollDefence, (results) => {
                    const roll = results.results.roll.result;
                    const whelming = results.results.whelming.result;

                    const modifier = results.results.modifier.result;
                    const bonus = results.results.bonus.result;
                    const mitigation = results.results.mitigation.result;

                    const penalty = results.results.penalty.result;

                    const defence = results.results.defence.result + results.results.bonusdefence.result;
                    let finalResult = 0;

                    switch (roll) {
                        //when it is overwhelming
                        case 10:
                            finalResult = roll + whelming + mitigation + modifier + bonus - penalty;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll + whelming + modifier + bonus + mitigation - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                defence: defence,
                                modifier: modifier + bonus - penalty,
                                critical: 1
                            }
                            );
                            break;
                        //when is it underwhelming
                        case 1:
                        finalResult = roll - whelming + mitigation + modifier + bonus - penalty;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll - whelming + modifier + bonus + mitigation - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                defence: defence,
                                modifier: modifier + bonus - penalty,
                                critical: 1
                            }
                            );
                            break;
                        //the rest of the rolls
                        default:
                        finalResult = roll + mitigation + modifier + bonus - penalty;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll + modifier + bonus + mitigation - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                defence: defence,
                                modifier: modifier + bonus - penalty,
                                critical: 0 //with a 0 it will hide the baseRoll
                            }
                            );
                    }
                });
            } else {
                startRoll(rollResistance, (results) => {
                    const roll = results.results.roll.result;
                    const whelming = results.results.whelming.result;

                    const modifier = results.results.modifier.result;
                    const bonus = results.results.bonus.result;

                    const penalty = results.results.penalty.result;

                    const resistance = results.results.resistance.result + results.results.bonusresistance.result;
                    let finalResult = 0;

                    switch (roll) {
                        //when it is overwhelming
                        case 10:
                            finalResult = roll + whelming + resistance + modifier + bonus - penalty;
                            finalResult = finalResult < 0 ? 0 : finalResult;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll + whelming + modifier + bonus - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                resistance: resistance,
                                modifier: modifier + bonus - penalty,
                                critical: 1
                            }
                            );
                            break;
                        //when is it underwhelming
                        case 1:
                        finalResult = roll - whelming + resistance + modifier + bonus - penalty;
                        finalResult = finalResult < 0 ? 0 : finalResult;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll - whelming + resistance + modifier + bonus - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                resistance: resistance,
                                modifier: modifier + bonus - penalty,
                                critical: 1
                            }
                            );
                            break;
                        //the rest of the rolls
                        default:
                        finalResult = roll + resistance + modifier + bonus - penalty;
                        finalResult = finalResult < 0 ? 0 : finalResult;
                            finishRoll(
                                results.rollId, {
                                rollResult: roll + resistance + modifier + bonus - penalty,
                                roll: roll,
                                finalResult: finalResult,
                                resistance: resistance,
                                modifier: modifier + bonus - penalty,
                                critical: 0 //with a 0 it will hide the baseRoll
                            }
                            );
                    }
                });
            }
            finishRoll(results.rollId);
        });
    });

    on('clicked:repeating_war:damage', (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_name" + "}";
        let offensive = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "offence" + "}";
        let flaw = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flaw" + "}";
        let damage = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "damage_shards_value" + "}";
        let modifiera = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_shards" + "}";
        let survival = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "survival" + "}";
        let sight = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "sight" + "}";
        let shielding = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "focus" + "}";
        let finesse = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "finesse" + "}";
        let range = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_shape" + "}";
        let toggled = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flawed" + "}";
        let roll = "&{template:damage} {{name=" + name + "}} {{charactername=@{character_name}}} {{modifier=[[" + modifiera + "]]}} " +
            "{{shielding=[[" + shielding + "]]}} {{sight=[[" + sight + "]]}} {{survival=[[" + survival + "]]}} {{movement=[[" + finesse + "]]}} " +
            "{{flaw=" + flaw + "}} {{range=" + range + "}} {{toggle=[[0]]}} {{typeName=@{repeating_war_active_type_name}}}" +
            "{{damage=[[" + damage + "]]}} {{finalResult=[[0]]}} {{toggled=[["+toggled+"]]}}" +
            "{{rollResult=[[0]]}} {{critical=[[0]]}} {{roll=[[1d10]]}} {{whelming=[[1d10]]}} {{bonus=[[(?{Roll Bonus|0})]]}} {{bonusoffence=[[(?{Offence Modifier|0})]]}} " +
            "{{penalty=[[(?{Roll Penalty|0})]]}} {{offence=[[" + offensive + "]]}} ";
        startRoll(roll, (results) => {
            const roll = results.results.roll.result;
            const whelming = results.results.whelming.result;

            const modifier = results.results.modifier.result;
            const bonus = results.results.bonus.result;

            const penalty = results.results.penalty.result;

            const damage = results.results.damage.result;

            let offence = results.results.offence.result + results.results.bonusoffence.result;

            let toggle = results.results.sight.result + results.results.survival.result + results.results.shielding.result + results.results.movement.result;
            let finalResult = 0;

            switch (roll) {
                //when it is overwhelming
                case 10:
                    finalResult = roll + whelming + damage + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll + whelming + modifier + bonus + damage - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        offence: offence,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //when is it underwhelming
                case 1:
                finalResult = roll - whelming + damage + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll - whelming + modifier + bonus + damage - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        offence: offence,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //the rest of the rolls
                default:
                finalResult = roll + damage + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll + modifier + bonus + damage - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        offence: offence,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 0 //with a 0 it will hide the baseRoll
                    }
                    );
            }
        });
    });

    on('clicked:repeating_war:healing', (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_name" + "}";
        let offensive = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "alleviation" + "}";
        let flaw = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flaw" + "}";
        let healing = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "healing_shards_value" + "}";
        let modifiera = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_shards" + "}";
        let survival = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "survival" + "}";
        let sight = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "sight" + "}";
        let shielding = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "focus" + "}";
        let finesse = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "finesse" + "}";
        let range = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_shape" + "}";
        let toggled = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flawed" + "}";
        let roll = "&{template:healing} {{type=[[@{repeating_war_active_type}]]}} {{range=" + range + "}} {{toggled=[["+toggled+"]]}} {{charactername=@{character_name}}} {{toggle=[[0]]}} {{movement=[[" + finesse + "]]}} {{shielding=[[" + shielding + "]]}} {{sight=[[" + sight + "]]}} {{survival=[[" + survival + "]]}} {{name=" + name + "}} {{flaw=" + flaw + "}} {{modifier=[[" + modifiera + "]]}} {{bonus=[[?{Roll Bonus|0}]]}} {{bonusalleviation=[[(?{Alleviation Modifier|0})]]}} {{typeName=@{repeating_war_active_type_name}}} {{healing=[[" + healing + "]]}} {{baseRoll=[[0]]}} {{rollResult=[[0]]}} {{critical=[[0]]}} {{roll=[[1d10]]}} {{result=[[0]]}} {{whelming=[[1d10]]}}{{alleviation=[[" + offensive + "]]}} {{penalty=[[(?{Roll Penalty|0})]]}} {{finalResult=[[0]]}}";
        startRoll(roll, (results) => {
            const roll = results.results.roll.result;
            const whelming = results.results.whelming.result;

            const modifier = results.results.modifier.result;
            const bonus = results.results.bonus.result;

            const penalty = results.results.penalty.result;

            const healing = results.results.healing.result;

            const alleviation = results.results.alleviation.result + results.results.bonusalleviation.result;

            let toggle = results.results.sight.result + results.results.survival.result + results.results.shielding.result + results.results.movement.result;

            let finalResult = 0;

            switch (roll) {
                //when it is overwhelming
                case 10:
                finalResult = roll + whelming + healing + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll + whelming + modifier + bonus + healing - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        alleviation: alleviation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //when is it underwhelming
                case 1:
                finalResult = roll - whelming + healing + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll - whelming + modifier + bonus + healing - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        alleviation: alleviation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //the rest of the rolls
                default:
                finalResult = roll + healing + modifier + bonus - penalty;
                    finishRoll(
                        results.rollId, {
                        rollResult: roll + modifier + bonus + healing - penalty,
                        roll: roll,
                        finalResult: finalResult,
                        alleviation: alleviation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 0 //with a 0 it will hide the baseRoll
                    }
                    );
            }
        });
    });

    on('clicked:repeating_war:malicious', (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_name" + "}";
        let manipulation = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "affliction" + "}";
        let condition = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_condition" + "}";
        let flaw = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flaw" + "}";
        let damage = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "damage_shards_value" + "}";
        let modifiera = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_shards" + "}";
        let survival = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "survival" + "}";
        let sight = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "sight" + "}";
        let shielding = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "focus" + "}";
        let finesse = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "finesse" + "}";
        let range = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_shape" + "}";
        let toggled = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flawed" + "}";
        let roll = "&{template:malicious} " +
            "{{type=[[@{repeating_war_active_type}]]}} {{charactername=@{character_name}}} {{toggle=[[0]]}} {{malben=[[1]]}} {{name=" + name + "}} {{typeName=@{repeating_war_active_type_name}}} " +
            "{{roll=[[1d10]]}} {{whelming=[[1d10]]}} {{range=" + range + "}} " +
            "{{movement=[[" + finesse + "]]}} {{shielding=[[" + shielding + "]]}} {{sight=[[" + sight + "]]}} {{survival=[[" + survival + "]]}} " +
            "{{modifier=[[" + modifiera + "]]}} {{bonus=[[?{Roll Bonus|0}]]}} {{toggled=[["+toggled+"]]}} {{bonusmanipulation=[[(?{Manipulation Modifier|0})]]}} " +
            "{{damage=[[" + damage + "]]}} {{manipulation=[[" + manipulation + "]]}} {{penalty=[[(?{Roll Penalty|0})]]}} {{finalResult=[[0]]}} " +
            "{{flaw=" + flaw + "}}{{condition=" + condition + "}}";
        startRoll(roll, (results) => {
            const roll = results.results.roll.result;
            const whelming = results.results.whelming.result;

            const modifier = results.results.modifier.result;
            const bonus = results.results.bonus.result;
            const manipulation = results.results.manipulation.result + results.results.bonusmanipulation.result;

            const penalty = results.results.penalty.result;

            let toggle = results.results.sight.result + results.results.survival.result + results.results.shielding.result + results.results.movement.result;
            let finalResult = 0;

            switch (roll) {
                //when it is overwhelming
                case 10:
                    finalResult = roll + whelming + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //when is it underwhelming
                case 1:
                    finalResult = roll - whelming + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //the rest of the rolls
                default:
                    finalResult = roll + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 0 //with a 0 it will hide the baseRoll
                    }
                    );
            }
        });
    });

    on('clicked:repeating_war:beneficial', (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_name" + "}";
        let manipulation = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "affliction" + "}";
        let condition = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_condition" + "}";
        let flaw = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flaw" + "}";
        let healing = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "healing_shards_value" + "}";
        let modifiera = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_shards" + "}";
        let survival = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "survival" + "}";
        let sight = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "sight" + "}";
        let shielding = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "focus" + "}";
        let finesse = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "finesse" + "}";
        let range = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_shape" + "}";
        let toggled = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_flawed" + "}";
        let roll = "&{template:malicious} " +
            "{{type=[[@{repeating_war_active_type}]]}} {{charactername=@{character_name}}} {{toggle=[[0]]}} {{malben=[[2]]}} {{name=" + name + "}} {{typeName=@{repeating_war_active_type_name}}} " +
            "{{roll=[[1d10]]}} {{whelming=[[1d10]]}} {{range=" + range + "}} " +
            "{{movement=[[" + finesse + "]]}} {{shielding=[[" + shielding + "]]}} {{sight=[[" + sight + "]]}} {{survival=[[" + survival + "]]}} " +
            "{{modifier=[[" + modifiera + "]]}} {{bonus=[[?{Roll Bonus|0}]]}} {{toggled=[["+toggled+"]]}} {{bonusmanipulation=[[(?{Manipulation Modifier|0})]]}} " +
            "{{healing=[[" + healing + "]]}} {{manipulation=[[" + manipulation + "]]}} {{penalty=[[(?{Roll Penalty|0})]]}} {{finalResult=[[0]]}} " +
            "{{flaw=" + flaw + "}} {{condition=" + condition + "}}";
        startRoll(roll, (results) => {
            const roll = results.results.roll.result;
            const whelming = results.results.whelming.result;

            const modifier = results.results.modifier.result;
            const bonus = results.results.bonus.result;
            const manipulation = results.results.manipulation.result + results.results.bonusmanipulation.result;

            const penalty = results.results.penalty.result;

            let toggle = results.results.sight.result + results.results.survival.result + results.results.shielding.result + results.results.movement.result;
            let finalResult = 0;

            switch (roll) {
                //when it is overwhelming
                case 10:
                    finalResult = roll + whelming + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //when is it underwhelming
                case 1:
                    finalResult = roll - whelming + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 1
                    }
                    );
                    break;
                //the rest of the rolls
                default:
                    finalResult = roll + modifier + bonus + manipulation - penalty;
                    finalResult = finalResult < 0 ? 0 : finalResult;
                    finishRoll(
                        results.rollId, {
                        roll: roll,
                        finalResult: finalResult,
                        manipulation: manipulation,
                        toggle: toggle,
                        modifier: modifier + bonus - penalty,
                        critical: 0 //with a 0 it will hide the baseRoll
                    }
                    );
            }
        });
    });

    on('clicked:manoeuvreroll', (info, value) => {
        console.log(info);
        let rolltracker = Math.ceil(Math.random() * 10);
        let roll = "&{template:manoeuvre} {{name=@{selected|token_name}'s Manouevre Roll}} {{roll=[[" + rolltracker + "+@{selected|manoeuvre_value}+(@{selected|manoeuvre_value}/10) &{tracker}]]}} {{original=[[" + rolltracker + "]]}} {{manoeuvre=[[@{selected|manoeuvre_value}]]}}";
        startRoll(roll, (results) => {
            finishRoll(results.rollId);
        });
    });

    on('clicked:fortitude', (info) => {
        let roll = self + " &{template:pursuit} {{version=Fortitude}} {{roll=[[1d10]]}} {{overwhelming=[[10+1d10]]}}  {{underwhelming=[[1-1d10]]}} {{difficulty=[[?{Challenge Level|0}]]}}";
        startRoll(roll, (results) => {
            finishRoll(results.rollId);
        });
    });

    on('change:repeating_qualities:attach_attack change:repeating_qualities:quality_description', (info) => {
        const output = {};
        let check = [];
        let infotext = "";
        let text = [];
        getSectionIDs("repeating_qualities", function (rowIds) {

            rowIds.forEach((id) => {
                check.push(`repeating_qualities_${id}_attach_attack`);
                text.push(`repeating_qualities_${id}_quality_description`);
            });

            getAttrs(check, function (v) {
                getAttrs(text, function (x) {
                    for (var i = 0; i < check.length; i++) {
                        if (v[check[i]] === "1") infotext += x[text[i]] + "\n";
                    }
                    output["quality_description_attack"] = infotext.slice(0, -2);
                    setAttrs(output);
                });
            });
        });
    });

    on('change:repeating_qualities:attach_defence change:repeating_qualities:quality_description', (info) => {
        const output = {};
        let check = [];
        let infotext = "";
        let text = [];
        getSectionIDs("repeating_qualities", function (rowIds) {

            for (var i = 0; i < rowIds.length; i++) {
                check.push("repeating_qualities_" + rowIds[i] + "_attach_defence");
                text.push("repeating_qualities_" + rowIds[i] + "_quality_description");
            }

            getAttrs(check, function (v) {
                getAttrs(text, function (x) {
                    for (var i = 0; i < check.length; i++) {
                        if (v[check[i]] === "1") infotext += x[text[i]] + "\n";
                    }
                    output["quality_description_defence"] = infotext.slice(0, -2);
                    setAttrs(output);
                });
            });
        });
    });

    on('clicked:repeating_warantagonist:antagonistattack', async (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_name_input" + "}";
        let offence = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_offence" + "}";
        let effect = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_prefix" + "}";
        let effort = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "active_effort" + "}";
        let damage = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_damage" + "}";
        let modifiera = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_shards" + "}";
        let manipulation = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "action_manipulation" + "}";
        let roll = "&{template:antagonistdamage} {{name=" + name + "}} {{charactername=@{character_name}}} {{info=@{quality_description_attack}}} {{targetdefencename=@{selected|character_name}}} {{modifier=[[" + modifiera + "]]}} {{manipulation=[[" + manipulation + "]]}} {{targetname=@{selected|token_name}}} {{damage=[[" + damage + "]]}} {{prefix=" + effect + "}} {{effort=" + effort + "}} {{penalty=[[(?{Attack Penalty|0})]]}} {{penaltyOffence=[[(?{Offence/Alleviation Penalty|0})]]}} {{bonusOffence=[[(?{Offence/AlleviationManipulation Bonus|0})]]}} {{offence=[[" + offence + "]]}}"
        await startRoll(roll, (results) => {
            finishRoll(
                results.rollId, {
                manipulation: results.results.manipulation.result - results.results.penaltyOffence.result + results.results.bonusOffence.result,
                offence: results.results.offence.result - results.results.penaltyOffence.result + results.results.bonusOffence.result,
                penalty: results.results.penalty.result + results.results.modifier.result
            }

            );
        });
    });

    on('clicked:repeating_ability:power', async (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "ability_name" + "}";
        let description = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "ability_description" + "}";
        let roll = "&{template:ability} {{ability=" + name + "}} {{name=@{character_name}}} {{description=" + description + "}}"
        await startRoll(roll, (results) => {
            finishRoll(results.rollId);
        });
    });
    
    on('clicked:repeating_ability:aetheric', async (info) => {
        let [section, rowID, button] = parseClickTrigger(info.triggerName);
        let name = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "ability_name" + "}";
        let description = "@{" + [section, rowID, button][0] + "_" + [section, rowID, button][1] + "_" + "ability_description_two" + "}";
        let roll = "&{template:ability} {{ability=" + name + " Aetheric}} {{name=@{character_name}}} {{description=" + description + "}}"
        await startRoll(roll, (results) => {
            finishRoll(results.rollId);
        });
    });

    on('clicked:blank', (info) => {
        let roll = "&{template:empty} {{type=[[?{Blank or Chance Roll?|Blank,1|Chance,2}]]}}";
        startRoll(roll, (results) => {
            let endroll = "";
            let typeresult = results.results.type.result;
            if (typeresult === 1) endroll = "&{template:blank} {{name=@{character_name}'s Blank Roll}} " +
                "{{type=[[1]]}} {{roll1=[[1d10]]}} {{roll2=[[1d10]]}} {{roll3=[[1d10]]}} {{roll4=[[1d10]]}} {{target=[[?{Target Value?|0}]]}} {{outcome=[[0]]}} {{result=[[0]]}} {{bonus=[[?{Roll Modifier|0}]]}}";
            if (typeresult === 2) endroll = "&{template:blank} {{name=@{character_name}'s Chance Roll}} " +
                "{{type=[[2]]}} {{roll1=[[1d10]]}} {{roll2=[[1d10]]}} {{roll3=[[1d10]]}} {{roll4=[[1d10]]}} {{result=[[0]]}} {{outcome=[[0]]}} {{target=[[0]]}} {{bonus=[[0]]}}";
            let result = 0;
            console.log(typeresult);
            startRoll(endroll, (results) => {
                console.log(results.results.roll1.result);
                console.log(results.results.roll2.result);
                console.log(results.results.roll3.result);
                console.log(results.results.roll4.result);
                if (typeresult === 1) result = results.results.roll1.result + results.results.bonus.result;
                if (typeresult === 2) {
                    result += results.results.roll1.result % 2 == 0 ? 1 : 0;
                    result += results.results.roll2.result % 2 == 0 ? 1 : 0;
                    result += results.results.roll3.result % 2 == 0 ? 1 : 0;
                    result += results.results.roll4.result % 2 == 0 ? 1 : 0;
                };
                console.log(result);
                finishRoll(
                    results.rollId, {
                    result: result,
                    outcome: (results.results.roll1.result + results.results.bonus.result) > results.results.target.result ? 1 : 0
                }
                );
            });
            finishRoll(results.rollId);
        });
    });
</script>

<rolltemplate class="sheet-rolltemplate-empty">

</rolltemplate>

<rolltemplate class="sheet-rolltemplate-defence">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>{{name}}</span></div>
        {{#rollBetween() computed::roll 2 9}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span>{{computed::roll}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::mitigation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[mitigation]</span></span>
                <span style="position: relative; top: -1px;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage reduction]</span></span>
            </span>
        </div>
        {{/rollBetween() computed::roll 2 9}}

        {{#rollTotal() computed::roll 1}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 13px; font-weight: 600; min-width:50px"> 1 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span> </span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">-</span>
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 12px; font-weight: 600; min-width:50px">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::mitigation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[mitigation]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage reduction]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 1}}
        {{#rollTotal() computed::roll 10}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 13px; font-weight: 600;"> 10 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="margin-left:-1px;margin-right:-5px; position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 12px; font-weight: 600;">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::mitigation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[mitigation]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage reduction]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 10}}
    </div>
    <div class="sheet-template-container">
        <div class="sheet-template-header">Passive Effect</div>
        <div class="sheet-template-row-outcome-effect">{{typeeffect}}</div>
    </div>

    {{#rollTotal() computed::toggle 2}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Flaw</div>
        <div class="sheet-template-row-outcome">{{flaw}}</div>
    </div>
    {{/rollTotal() computed::toggle 2}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-resistance">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>{{name}}</span></div>
        {{#rollBetween() computed::roll 2 9}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span>{{computed::roll}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::resistance}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[resistance]</span></span>
                <span style="position: relative; top: -1px;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[total]</span></span>
            </span>
        </div>
        {{/rollBetween() computed::roll 2 9}}

        {{#rollTotal() computed::roll 1}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 13px; font-weight: 600; min-width:50px"> 1 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span> </span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">-</span>
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 12px; font-weight: 600; min-width:50px">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::resistance}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[resistance]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[total]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 1}}
        {{#rollTotal() computed::roll 10}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 13px; font-weight: 600;"> 10 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="margin-left:-1px;margin-right:-5px; position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 12px; font-weight: 600;">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::resistance}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[resistance]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[total]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 10}}
    </div>
    <div class="sheet-template-container">
        <div class="sheet-template-header">Passive Effect</div>
        <div class="sheet-template-row-outcome-effect">{{typeeffect}}</div>
    </div>
    {{#rollTotal() computed::toggle 2}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Flaw</div>
        <div class="sheet-template-row-outcome">{{flaw}}</div>
    </div>
    {{/rollTotal() computed::toggle 2}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-damage">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>Active WAR: {{name}}</div>
        {{#rollBetween() computed::roll 2 9}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span>{{computed::roll}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::damage}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base damage]</span></span>
                <span style="position: relative; top: -1px;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage]</span></span>
            </span>
        </div>
        {{/rollBetween() computed::roll 2 9}}

        {{#rollTotal() computed::roll 1}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 13px; font-weight: 600; min-width:50px"> 1 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span> </span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">-</span>
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 12px; font-weight: 600; min-width:50px">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::damage}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base damage]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 1}}
        {{#rollTotal() computed::roll 10}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 13px; font-weight: 600;"> 10 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="margin-left:-1px;margin-right:-5px; position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 12px; font-weight: 600;">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::damage}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base damage]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[damage]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 10}}

        {{#range}}
        <div class="sheet-template-row-outcome"><span>Effort Modification: {{range}}</span></div>
        {{/range}}
    </div>
    {{#rollGreater() computed::toggle 0}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Optional</div>
        {{#rollGreater() survival 0}}
        <div class="sheet-template-row">Self Healing: {{survival}}</div>
        {{/rollGreater() survival 0}}
        {{#rollGreater() shielding 0}}
        <div class="sheet-template-row">Shielding Recovery: {{shielding}}</div>
        {{/rollGreater() shielding 0}}
        {{#rollGreater() movement 0}}
        <div class="sheet-template-row">Immediate Movement: {{movement}}</div>
        {{/rollGreater() movement 0}}
    </div>
    {{/rollGreater() computed::toggle 0}}
    {{#rollTotal() computed::toggled 2}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Flaw</div>
        <div class="sheet-template-row-outcome">{{flaw}}</div>
    </div>
    {{/rollTotal() computed::toggled 2}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-healing">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>Active WAR: {{name}}</div>
        {{#rollBetween() computed::roll 2 9}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span>{{computed::roll}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::healing}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base healing]</span></span>
                <span style="position: relative; top: -1px;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[healing]</span></span>
            </span>
        </div>
        {{/rollBetween() computed::roll 2 9}}

        {{#rollTotal() computed::roll 1}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 13px; font-weight: 600; min-width:50px"> 1 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span> </span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">-</span>
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 12px; font-weight: 600; min-width:50px">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::healing}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base healing]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[healing]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 1}}
        {{#rollTotal() computed::roll 10}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 13px; font-weight: 600;"> 10 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="margin-left:-1px;margin-right:-5px; position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 12px; font-weight: 600;">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::healing}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base healing]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::rollResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[healing]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 10}}
        {{#range}}
        <div class="sheet-template-row-outcome"><span>Effort Modification: {{range}}</span></div>
        {{/range}}
    </div>
    {{#rollGreater() computed::toggle 0}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Optional</div>
        {{#rollGreater() survival 0}}
        <div class="sheet-template-row">Self Healing: {{survival}}</div>
        {{/rollGreater() survival 0}}
        {{#rollGreater() shielding 0}}
        <div class="sheet-template-row">Shielding Recovery: {{shielding}}</div>
        {{/rollGreater() shielding 0}}
        {{#rollGreater() movement 0}}
        <div class="sheet-template-row">Immediate Movement: {{movement}}</div>
        {{/rollGreater() movement 0}}
    </div>
    {{/rollGreater() computed::toggle 0}}

    {{#rollTotal() computed::toggled 2}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Flaw</div>
        <div class="sheet-template-row-outcome">{{flaw}}</div>
    </div>
    {{/rollTotal() computed::toggled 2}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-malicious">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>Active WAR: {{name}}</div>
        {{#rollBetween() computed::roll 2 9}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span>{{computed::roll}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::manipulation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[manipulation]</span></span>
                <span style="position: relative; top: -1px;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[result]</span></span>
            </span>
        </div>
        {{/rollBetween() computed::roll 2 9}}

        {{#rollTotal() computed::roll 1}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 13px; font-weight: 600; min-width:50px"> 1 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span> </span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">-</span>
                <span class="sheet-underwhelming" style="color:firebrick; font-size: 12px; font-weight: 600; min-width:50px">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::manipulation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[manipulation]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[result]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 1}}
        {{#rollTotal() computed::roll 10}}
        <div class="sheet-template-row">
            <span class="sheet-template-span">
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 13px; font-weight: 600;"> 10 <span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[base roll]</span></span>
                <span style="margin-left:-1px;margin-right:-5px; position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span class="sheet-underwhelming" style="color:seagreen; font-size: 12px; font-weight: 600;">{{whelming}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[secondary roll]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">+</span>
                <span>{{computed::modifier}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[modifier]</span></span>
                <span style="position: relative; top: -1px;">+</span>
                <span>{{computed::manipulation}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[manipulation]</span></span>
                <span style="position: relative; top: -1px; font-size: 12px; font-weight: 600;">=</span>
                <span>{{computed::finalResult}}<span style="font-size:7pt; position: relative; top: -1px; left: -2px;">[result]</span>
                </span>
        </div>
        {{/rollTotal() computed::roll 10}}

        {{#range}}
        <div class="sheet-template-row-outcome"><span>Effort Modification: {{range}}</span></div>
        {{/range}}
    </div>
    <div class="sheet-template-double">
        <div class="sheet-template-container sheet-template-left">
            <div class="sheet-template-header">{{#rollTotal() malben 1}}Direct Damage{{/rollTotal() malben 1}}{{#rollTotal() malben 2}}Healing{{/rollTotal() malben 2}}</div>
            <div class="sheet-template-row" style="height:0px;padding:0px"></div>
            <div class="sheet-template-row-outcome-two">
                {{#rollTotal() malben 1}} {{damage}} {{/rollTotal() malben 1}}
                {{#rollTotal() malben 2}} {{healing}} {{/rollTotal() malben 2}}</div>
        </div>
        <div class="sheet-template-container sheet-template-right">
            <div class="sheet-template-header">{{#rollTotal() malben 1}}Condition{{/rollTotal() malben 1}}{{#rollTotal() malben 2}}Boon{{/rollTotal() malben 2}}</div>
            <div class="sheet-template-row" style="height:0px;padding:0px"></div>
            <div class="sheet-template-row-outcome-two">{{condition}}</div>
        </div>
    </div>

    {{#rollGreater() computed::toggle 0}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Optional</div>
        {{#rollGreater() survival 0}}
        <div class="sheet-template-row">Self Healing: {{survival}}</div>
        {{/rollGreater() survival 0}}
        {{#rollGreater() shielding 0}}
        <div class="sheet-template-row">Shielding Recovery: {{shielding}}</div>
        {{/rollGreater() shielding 0}}
        {{#rollGreater() movement 0}}
        <div class="sheet-template-row">Immediate Movement: {{movement}}</div>
        {{/rollGreater() movement 0}}
    </div>
    {{/rollGreater() computed::toggle 0}}

    {{#rollTotal() computed::toggled 2}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Flaw</div>
        <div class="sheet-template-row-outcome">{{flaw}}</div>
    </div>
    {{/rollTotal() computed::toggled 2}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-antagonistdamage">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-headerFix">{{charactername}} <span>Attack: {{name}}</div>
        <div class="sheet-template-subheader">Targeting: <span style="justify-self: right;">{{targetname}}</span></div>

        <div class="sheet-template-row">
            Damage: {{damage}} <span>Imposed Roll Penalty: {{computed::penalty}}</span>
        </div>

        <div class="sheet-template-row">
            Offence: {{computed::offence}} <span style="margin-left: 34px;">Manipulation: {{computed::manipulation}}</span>
        </div>

        <div class="sheet-template-row-outcome">
            Defence Roll: [k](~{{targetdefencename}}|passive)
        </div>
    </div>
    {{#prefix}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Effect</div>
        <div class="sheet-template-row" style="height:0px;padding:0px"></div>
        <div class="sheet-template-row-outcome">{{prefix}}</div>
    </div>
    {{/prefix}}
    {{#effort}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Effort</div>
        <div class="sheet-template-row" style="height:0px;padding:0px"></div>
        <div class="sheet-template-row-outcome">{{effort}}</div>
    </div>
    {{/effort}}
    {{#info}}
    <div class="sheet-template-container">
        <div class="sheet-template-header">Quality Info</div>
        <div class="sheet-template-row" style="height:0px;padding:0px"></div>
        <div class="sheet-template-row-outcome-info">{{info}}</div>
    </div>
    {{/info}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-manoeuvre">
    <div class="sheet-template-container">
        <div class="sheet-template-header">{{name}}</div>
        <div class="sheet-template-row">Roll: {{original}}</div>
        <div class="sheet-template-row sheet-hide">Manoeuvre Value: {{manoeuvre}}</div>
        <div class="sheet-template-row">Result: {{roll}}</div>
        <div class="sheet-template-row-outcome">
            {{#rollTotal() original 1}}
            <span>You are surprised and lose the first round of combat</span>
            {{/rollTotal() original 1}}
            {{#^rollTotal() original 1}}
            {{#^rollTotal() original 10}}
            <span>You are sufficiently prepared and act on your turn</span>
            {{/^rollTotal() original 10}}
            {{/^rollTotal() original 1}}
            {{#rollTotal() original 10}}
            <span>Your reactions were sharp, granting a single action before turn order starts.</span>
            {{/rollTotal() original 10}}
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-blank">
    <div class="sheet-template-container">
        <div class="sheet-template-header">{{name}}</div>
        {{#rollTotal() type 1}}
        <div class="sheet-template-row-outcome">Result: {{computed::result}} vs Target {{target}}
            {{#rollTotal() computed::outcome 1}}
            <span class="sheet-underwhelming" style="color:seagreen">Success</span>
            {{/rollTotal() computed::outcome 1}}
            {{#rollTotal() computed::outcome 2}}
            <span class="sheet-underwhelming" style="color:firebrick">Failure</span>
            {{/rollTotal() computed::outcome 2}}
        </div>
        {{/rollTotal() type 1}}
        {{#rollTotal() type 2}}
        <div class="sheet-template-row-outcome">Die Rolls: {{roll1}} {{roll2}} {{roll3}} {{roll4}}</div>
    </div>
    <div class="sheet-template-container" style="margin-top:0px">
        <div class="sheet-template-header">Results</div>
        <div class="sheet-template-row-outcome" style="padding-bottom:1px">
            {{#rollTotal() computed::result 0}}
            <span class="sheet-underwhelming" style="color:firebrick">No Chance Success</span>
            {{/rollTotal() computed::result 0}}
            {{#rollTotal() computed::result 1}}
            <span class="sheet-underwhelming" style="color:seagreen">High Chance</span>
            {{/rollTotal() computed::result 1}}
            {{#rollTotal() computed::result 2}}
            <span class="sheet-underwhelming" style="color:seagreen">High Chance & Average Chance</span>
            {{/rollTotal() computed::result 2}}
            {{#rollTotal() computed::result 3}}
            <span class="sheet-underwhelming" style="color:seagreen">High Chance, Average Chance & Low Chance</span>
            {{/rollTotal() computed::result 3}}
            {{#rollTotal() computed::result 4}}
            <span class="sheet-underwhelming" style="color:seagreen">Full Chance Success</span>
            {{/rollTotal() computed::result 4}}

        </div>
        {{/rollTotal() type 2}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-reactive">
    <div class="sheet-template-container">
        {{#rollTotal() type 1}}
        <div class="sheet-template-header sheet-template-justify"><span>{{name}}</span> <span>Ethereal Activation</span></div>
        <div class="sheet-template-row">Before the attack resolution you can move a single hex.</div>
        <div class="sheet-template-row">Grants 2 free hexes of movement after the current Attack is resolved.</div>
        <div class="sheet-template-row">Grants 2 free hexes of movement after the current Attack is resolved.</div>
        <div class="sheet-template-row-outcome">This Movement does not trigger any effects or qualities that rely uppon movement.</div>
        {{/rollTotal() type 1}}
        {{#rollTotal() type 2}}
        <div class="sheet-template-header sheet-template-justify"><span>{{name}}</span> <span>Natural Activation</span></div>
        <div class="sheet-template-row-outcome">Grants 2 free Effort for the current Defence Action</div>
        {{/rollTotal() type 2}}
        {{#rollTotal() type 3}}
        <div class="sheet-template-header sheet-template-justify"><span>{{name}}</span> <span>Physical Activation</span></div>
        <div class="sheet-template-row">Choose one:</div>
        <div class="sheet-template-row-outcome">- Prevents any Condition, Paresis, Trauma or Torment Medical Emergency caused by the attack<br>- Double the Damage reduction from this WAR.</div>
        {{/rollTotal() type 3}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ability">
    <div class="sheet-template-container">
        <div class="sheet-template-header sheet-template-justify"><span>{{name}}</span> <span>{{ability}} Activation</span></div>
        <div class="sheet-template-row-outcome">{{description}}</div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-pursuit">
    <div class="sheet-template-container">
        <div class="sheet-template-header">{{version}} Check{{pursuitName}}</div>
        {{#level}}
        <div class="sheet-template-row sheet-template-justify">
            <span class="sheet-template-left">Training:</span>
            <span class="sheet-template-right" style="font-weight: bolder !important;">{{level}}</span>
        </div>
        {{/level}}
        {{#rollBetween() roll 2 9}}
        <div class="sheet-template-row">Roll: {{roll}} vs Difficulty {{difficulty}}
            Result:
            {{#rollLess() roll difficulty}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;margin-left:5px">
                Failed
            </span>
            {{/rollLess() roll difficulty}}
            {{#^rollLess() roll difficulty}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;margin-left:5px">
                Passed
            </span>
            {{/^rollLess() roll difficulty}}
        </div>
        {{/rollBetween() roll 2 9}}
        {{#rollTotal() roll 1}}
        <div class="sheet-template-row">Underwhelming Roll: <span style="color:firebrick;">{{underwhelming}}</span> vs {{difficulty}}
            Result:
            {{#rollLess() underwhelming difficulty}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;margin-left:5px">
                Failed
            </span>
            {{/rollLess() underwhelming difficulty}}
            {{#^rollLess() underwhelming difficulty}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;margin-left:5px">
                Passed
            </span>
            {{/^rollLess() underwhelming difficulty}}
            {{/rollTotal() roll 1}}
            {{#rollTotal() roll 10}}
            <div class="sheet-template-row">Overwhelming Roll: <span style="color:seagreen;">{{overwhelming}}</span> vs {{difficulty}}
                Result:
                {{#rollLess() overwhelming difficulty}}
                <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;margin-left:5px">
                    Failed
                </span>
                {{/rollLess() overwhelming difficulty}}
                {{#^rollLess() overwhelming difficulty}}
                <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;margin-left:5px">
                    Passed
                </span>
                {{/^rollLess() overwhelming difficulty}}
                {{/rollTotal() roll 10}}
            </div>
        </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-stress">
    <div class="sheet-template-container">
        <div class="sheet-template-header">Stress Test</div>
        {{#^rollWasFumble() roll}}
        {{#^rollWasCrit() roll}}
        <div class="sheet-template-row">Roll: {{roll}}</div>
        <div class="sheet-template-row-outcome">Result:
            {{#rollLess() roll 2}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +2 Stress
            </span>
            {{/rollLess() roll 2}}
            {{#rollBetween() roll 2 4}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +1 Stress
            </span>
            {{/rollBetween() roll 2 4}}
            {{#rollBetween() roll 5 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                +0 Stress
            </span>
            {{/rollBetween() roll 5 9}}
            {{#rollGreater() roll 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                -1 Stress
            </span>
            {{/rollGreater() roll 9}}
        </div>
        {{/^rollWasCrit() roll}}
        {{/^rollWasFumble() roll}}
        {{#rollWasFumble() roll}}
        <div class="sheet-template-row">Underwhelming Roll: <span style="color:firebrick;">{{underwhelming}}</span> vs Difficulty {{difficulty}}</div>
        <div class="sheet-template-row-outcome">Result:
            {{#rollLess() underwhelming 2}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +2 Stress
            </span>
            {{/rollLess() underwhelming 2}}
            {{#rollBetween() underwhelming 2 4}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +1 Stress
            </span>
            {{/rollBetween() underwhelming 2 4}}
            {{#rollBetween() underwhelming 5 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                +0 Stress
            </span>
            {{/rollBetween() underwhelming 5 9}}
            {{#rollGreater() underwhelming 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                -1 Stress
            </span>
            {{/rollGreater() underwhelming 9}}
        </div>
        {{/rollWasFumble() roll}}
        {{#rollWasCrit() roll}}
        <div class="sheet-template-row">Overwhelming Roll: <span style="color:seagreen;">{{overwhelming}}</span> vs Difficulty {{difficulty}}</div>
        <div class="sheet-template-row-outcome">Result:
            {{#rollLess() overwhelming 2}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +2 Stress
            </span>
            {{/rollLess() overwhelming 2}}
            {{#rollBetween() overwhelming 2 4}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:firebrick;">
                +1 Stress
            </span>
            {{/rollBetween() overwhelming 2 4}}
            {{#rollBetween() overwhelming 5 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                +0 Stress
            </span>
            {{/rollBetween() overwhelming 5 9}}
            {{#rollGreater() overwhelming 9}}
            <span style="align-self:flex-end;min-width: 2em;font-style: normal;text-align: center;color:seagreen;">
                -1 Stress
            </span>
            {{/rollGreater() overwhelming 9}}
        </div>
        {{/rollWasCrit() roll}}
    </div>
</rolltemplate>